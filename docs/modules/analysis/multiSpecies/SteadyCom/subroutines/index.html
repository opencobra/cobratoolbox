

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Subroutines &mdash; The COBRA Toolbox</title>
  

  
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../_static/img/apple-touch-icon.png">
  
  
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../_static/img/favicon-32x32.png">
  
  
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../_static/img/favicon-16x16.png">
  
  
    <link rel="mask-icon" href="../../../../../_static/img/safari-pinned-tab.svg" color="#5bbad5">
  
  
    <link rel="manifest" href="../../../../../_static/json/manifest.json">
  
  
    <meta name="msapplication-config" content="../../../../../_static/browserconfig.xml">
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../../../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../../../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../_static/css/cobra.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../../../_static/css/cobra.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../../search.html"/>
    <link rel="top" title="The COBRA Toolbox" href="../../../../../index.html"/>
        <link rel="up" title="Steadycom" href="../index.html"/>
        <link rel="next" title="Microbiomemodelingtoolbox" href="../../microbiomeModelingToolbox/index.html"/>
        <link rel="prev" title="Steadycom" href="../index.html"/> 

  
  <script src="../../../../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../index.html" class="icon icon-home"> The COBRA Toolbox
          

          
            <img src="https://king.nuigalway.ie/cobratoolbox/img/cobratoolbox_logo_transparent.png" class="logo" alt="cobratoolbox logo" />
          
          </a>

              
          <h1>The COBRA Toolbox</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../../../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},

    	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../../../../search.html?q=" + item.name + "&check_keywords=yes&area=default'>" + value + "</a>" + "<a href='../../../../../_static/../" + item.website_url + "' ><img src='../../../../../_static/link.svg'/></a></span>";
		    }
	    },

		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Analysis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../dynamicFBA/index.html">Dynamicfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fluxEnrichmentAnalysis/index.html">Fluxenrichmentanalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../topology/index.html">Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../deletion/index.html">Deletion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../persephone/index.html">Persephone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../transport/index.html">Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../parsimoniousFBA/index.html">Parsimoniousfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sparseFBA/index.html">Sparsefba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../relaxedFBA/index.html">Relaxedfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sampling/index.html">Sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../percentileCalc/index.html">Percentilecalc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rumba/index.html">Rumba</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Multispecies</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">Steadycom</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="#">Subroutines</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../microbiomeModelingToolbox/index.html">Microbiomemodelingtoolbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../rFBA/index.html">Rfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ROOM/index.html">Room</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../QFCA/index.html">Qfca</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nutritionAlgorithm/index.html">Nutritionalgorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../geometricFBA/index.html">Geometricfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../wholeBody/index.html">Wholebody</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../thermo/index.html">Thermo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../exploration/index.html">Exploration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../igemRNA/index.html">Igemrna</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../findMIIS/index.html">Findmiis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../KLdistance/index.html">Kldistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../subspaces/index.html">Subspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../uFBA/index.html">Ufba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../MOMA/index.html">Moma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../coupling/index.html">Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gMCS/index.html">Gmcs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ICONGEMs/index.html">Icongems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../FBA/index.html">Fba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mdFBA/index.html">Mdfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../robustnessAnalysis/index.html">Robustnessanalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../FVA/index.html">Fva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rMTA/index.html">Rmta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fastForest/index.html">Fastforest</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../base/index.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../dataIntegration/index.html">Dataintegration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../design/index.html">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../reconstruction/index.html">Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../visualization/index.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../cite.html">How to cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../funding.html">Funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../plan.html">Development Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../citations.html">Citations</a></li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">The COBRA Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Functions</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Analysis</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Multispecies</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Steadycom</a></li>
      <li class="breadcrumb-item active">Subroutines</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="subroutines">
<span id="id1"></span><h1>Subroutines<a class="headerlink" href="#subroutines" title="Permalink to this heading">¶</a></h1>
<span class="target" id="module-src.analysis.multiSpecies.SteadyCom.subroutines"></span><dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComCplex">
<span class="sig-name descname"><span class="pre">SteadyComCplex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">modelCom</span></em>, <em class="sig-param"><span class="pre">options</span></em>, <em class="sig-param"><span class="pre">solverParams</span></em>, <em class="sig-param"><span class="pre">LP</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/multiSpecies/SteadyCom/subroutines/SteadyComCplex.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComCplex" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the maximum community growth rate at community steady-state using the <cite>SteadyCom</cite> algorithm. Call the CPLEX dynamic object directly.</p>
<dl class="field-list">
<dt class="field-odd">USAGE</dt>
<dd class="field-odd"><p><strong>[sol, result, LP, LPminNorm, indLP] = SteadyComCplex</strong> (<em>modelCom, options, solverParams, LP</em>)</p>
</dd>
<dt class="field-even">INPUT</dt>
<dd class="field-even"><p><strong>modelCom</strong> – A community COBRA model structure with the following fields (created using createMultipleSpeciesModel)
(the first 5 fields are required, at least one of the last two is needed. Can be obtained using <cite>getMultiSpecisModelId</cite>):</p>
<blockquote>
<div><ul class="simple">
<li><p>S - Stoichiometric matrix</p></li>
<li><p>b - Right hand side</p></li>
<li><p>c - Objective coefficients</p></li>
<li><p>lb - Lower bounds</p></li>
<li><p>ub - Upper bounds</p></li>
<li><p>infoCom - structure containing community reaction info</p></li>
<li><p>indCom - the index structure corresponding to <cite>infoCom</cite></p></li>
</ul>
</div></blockquote>
</dd>
<dt class="field-odd">OPTIONAL INPUTS</dt>
<dd class="field-odd"><ul>
<li><p><strong>options</strong> – struct with the following possible fields:
(for constraining individual growth rates and biomass amounts, default []):</p>
<blockquote>
<div><ul>
<li><p>GRfx - Fixed growth rate for organisms apart from the community
(<span class="math notranslate nohighlight">\(N_{organisms} * 1\)</span> vector, NaN for unfixed growth rate,
or [#organisms | value]) e.g. to fix organisms 2, 3
at growth rate 0.1, <cite>GRfx = [2, 0.1; 3, 0.1];</cite></p></li>
<li><p>BMcon - Biomass constraint matrix <span class="math notranslate nohighlight">\((\sum (a_{ij} * X_j) &lt;/=/&gt; b_i)\)</span>
(given as <span class="math notranslate nohighlight">\(K * N_{organisms}\)</span> matrix for <cite>K</cite> constraints)
e.g. [0 1 1 0] for <span class="math notranslate nohighlight">\(X_2 + X_3\)</span> in a 4-organisms model</p></li>
<li><p>BMrhs - RHS for BMcon, <cite>K x 1</cite> vector for <cite>K</cite> constraints</p></li>
<li><p>BMcsense - Sense of the constraint, ‘L’, ‘E’, ‘G’ for &lt;=, =, &gt;=
(for general constraints on e.g. total carbon uptake, molecular crowding, default [])</p></li>
<li><p>MC - <span class="math notranslate nohighlight">\(K * (N_{rxns}+N_{organisms})\)</span> coefficient matrix, for <cite>K</cite> additional constraints</p></li>
<li><p>MCmode - <span class="math notranslate nohighlight">\(K * (N_{rxns}+N_{organisms})\)</span> matrix , with number 0 ~ 3</p>
<ul class="simple">
<li><p>0: original variable</p></li>
<li><p>1: positive part of the variable</p></li>
<li><p>2: negative part of the variable</p></li>
<li><p>3: absolute value of the variable</p></li>
</ul>
</li>
<li><p>MCrhs - RHS of the constraints (default all zeros if .MC is given)</p></li>
<li><p>MClhs - LHS of the constraints (default -inf if .MC is given)
(parameters in the iterative algorithm, [default value])</p></li>
<li><p>GRguess [0.2] - Initial guess of the growth rate.</p></li>
<li><p>feasCrit [1] - Criteria for feasibility, 1 or 2:
The algorithm tests iteratively at a given growth rate
whether a feasible solution can be found.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Use a threshold total biomass <cite>BMweight</cite> (see below).
i.e. <span class="math notranslate nohighlight">\(\sum X \geq BMweight\)</span>
(use it if the total biomass is known, the most common usage)</p></li>
<li><p>Use a threshold on minimum biomass production
(=specific growth rate x <span class="math notranslate nohighlight">\(\sum biomass\)</span>, which is roughly
constant over a range of growth rate if the sum of biomass
is not bounded above)
i.e. <span class="math notranslate nohighlight">\(\sum X * gr \geq BMtol * BMref * GR0\)</span>
where <cite>BMref</cite> is the maximum biomass at a small growth rate <cite>GR0</cite>
and <cite>BMtol</cite> is a fraction ranging from 0 to 1</p></li>
</ol>
</div></blockquote>
</li>
<li><p>algorithm [1] - Algorithm to find the maximum growth rate</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><cite>Fzero</cite> after finding <cite>grLB</cite> and <cite>grUB</cite> with simple guessing [<span class="math notranslate nohighlight">\(gr^T = gr * \sum X / \sum X^T\)</span>]</p></li>
<li><p>Simple guessing with minimum one percent step size</p></li>
<li><p>Bisection method</p></li>
</ol>
</div></blockquote>
</li>
<li><p>BMweight [1] - Minimum total biomass for feasibility. Used only if <cite>feasCrit = 1</cite>.
Set BMweight to a close-to-zero value to compute the wash-out dilution rate.</p></li>
<li><p>GR0 [0.001] - A small growth rate to obtain a reference value for maximum total biomass production.
Used only if <cite>feasCrit = 2</cite> or <cite>solveGR0 = true</cite></p></li>
<li><p>BMtol [0.8] - Fractional tolerance for biomass production to check
feasibility. Used only if <cite>feasCrit = 2</cite></p></li>
<li><p>solveGR0[false] - true to solve the model at a low growth rate <cite>GR0</cite> first to test feasibility</p></li>
<li><p>GRtol [1e-6] - Precision for the growth rate found (<span class="math notranslate nohighlight">\(grUB - grLB &lt; GRtol\)</span>)</p></li>
<li><p>BMtolAbs [1e-5] - Absolute tolerance for positivity of biomass</p></li>
<li><p>maxIter (1e3) - maximum nummber of iteration
(parameters in the optimization model, [default value])</p></li>
<li><p>minNorm [0] - 0: No <cite>minNorm</cite>. 1: min sum of absolution flux of the final solution.</p></li>
<li><p>BMgdw [all 1s] - The gram dry weight per mmol of the biomass reaction of
each organism. Maybe used to scale the biomass reactions between organisms.</p></li>
<li><p>BMobj [all 1s] - Objective coefficient for the biomass of each organism
when doing the maximization at each step.
(other parameters)</p></li>
<li><p>verbFlag  [3]  - Print level. 0, 1, 2, 3 for silence, one log per 10, 5 (default) or 1 iteration respectively</p></li>
<li><p>LPonly [false] - Return the initial LP at zero growth rate only. Calculate nothing.</p></li>
<li><p>saveModel [‘’]  String, if non-empty, save the <cite>cplex</cite> model, basis and parameters.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>solverParams</strong> – Cplex parameter structure. E.g. <cite>struct(‘simplex’, struct(‘tolerances’, struct(‘feasibility’, 1e-8)))</cite></p></li>
</ul>
</dd>
<dt class="field-even">OUTPUTS</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>sol</strong> – cplex solution structure</p></li>
<li><p><strong>result</strong> – structure with the following fields:</p>
<ul>
<li><p>GRmax: maximum specific growth rate found (/h)</p></li>
<li><p>vBM: biomass formation rate (gdw/h)</p></li>
<li><p>BM: Biomass vector at GRmax (gdw)</p></li>
<li><p>Ut: uptake fluxes (mmol/h)</p></li>
<li><p>Ex: export fluxes (mmol/h)</p></li>
<li><p>flux: flux distribution for the original model
(the following ‘iter’ fields are status in each iteration:)
[GR | biomass X | biomass flux (<cite>GR * X</cite>) | max. infeas. of solution])</p></li>
<li><p>iter0: stationary, no growth, <cite>gr = 0</cite></p></li>
<li><p>iter: iterations for finding max gr</p></li>
<li><p>stat: status at the termination of the algorithm:</p>
<ul>
<li><p>optimal: optimal growth rate found</p></li>
<li><p>maintenance: feasible at maintenance, but cannot grow</p></li>
<li><p>minimal growth: feasible at a minimal growth rate (possible only if options.solveGR0 = true)</p></li>
<li><p>infeasible: infeasible model, even with maintenance requirement only</p></li>
<li><p>LPonly: return the LP structure only. No optimization performed (only if options.LPonly = true)</p></li>
<li><p>xxx (minNorm L1-norm): in result.flux the sum of absolute fluxes is minimized. ‘xxx’ is one of the status above.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComFVAgr">
<span class="sig-name descname"><span class="pre">SteadyComFVAgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">modelCom</span></em>, <em class="sig-param"><span class="pre">options</span></em>, <em class="sig-param"><span class="pre">LP</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/multiSpecies/SteadyCom/subroutines/SteadyComFVAgr.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComFVAgr" title="Permalink to this definition">¶</a></dt>
<dd><p>Flux variability analysis for community model at community steady-state at a given growth rate. Called by <cite>SteadyComFVA</cite>
The function is capable of saving intermediate results and continuing from previous results
if the file path is given in <cite>options.saveFVA</cite>. It also allows switch from single thread to parallel
computation from intermediate results (but not the other way round).</p>
<dl class="field-list">
<dt class="field-odd">USAGE</dt>
<dd class="field-odd"><p><strong>[minFlux, maxFlux, minFD, maxFD, LP, GR] = SteadyComFVAgr</strong> (<em>modelCom, options, LP, parameter, ‘param1’, value1, ‘param2’, value2, …</em>)</p>
</dd>
<dt class="field-even">INPUT</dt>
<dd class="field-even"><p><strong>modelCom</strong> – A community COBRA model structure with the following fields (created using createMultipleSpeciesModel)
(the first 5 fields are required, at least one of the last two is needed. Can be obtained using <cite>getMultiSpecisModelId</cite>):</p>
<blockquote>
<div><ul class="simple">
<li><p>S - Stoichiometric matrix</p></li>
<li><p>b - Right hand side</p></li>
<li><p>c - Objective coefficients</p></li>
<li><p>lb - Lower bounds</p></li>
<li><p>ub - Upper bounds</p></li>
<li><p>infoCom - structure containing community reaction info</p></li>
<li><p>indCom - the index structure corresponding to <cite>infoCom</cite></p></li>
</ul>
</div></blockquote>
</dd>
<dt class="field-odd">OPTIONAL INPUTS</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> – struct with the following possible fields:</p>
<ul>
<li><p>GR - The growth rate at which FVA is performed. If not
given, find the maximum growth rate by <cite>SteadyComCplex.m</cite></p></li>
<li><p>optBMpercent - Only consider solutions that yield at least a certain percentage of the optimal biomass (Default = 99.99)</p></li>
<li><p>rxnNameList - List of reactions (index row vector or subset of <cite>*.rxns</cite>) for which FVA is performed.
(Default = biomass reaction of each species)
Or a <span class="math notranslate nohighlight">\((N_{rxns} + N_{organism}) x K\)</span> matrix for FVA of <cite>K</cite> linear combinations of fluxes and/or abundances
e.g., <cite>[1; -2; 0]</cite> for finding the max/min of <span class="math notranslate nohighlight">\(1 v_1 - 2 v_2 + 0 v_3\)</span></p></li>
<li><p>rxnFluxList - List of reactions (index vector or subset of <cite>*.rxns</cite>) whose fluxes are
also returned along with the FVA result of each entry in <cite>rxnNameList</cite>
(Default = biomass reaction of each species)
(the two parameters below are usually determined by solving the problem during the program.
Provide them only if you want to constrain the total biomass to a particular value)</p></li>
<li><p>BMmaxLB - lower bound for the total biomass (default 1)</p></li>
<li><p>BMmaxUB - upper bound for the total biomass (other parameters below)</p></li>
<li><p>saveFVA - If non-empty, become the filename to save the FVA results
(default empty, not saving)</p></li>
<li><p>saveFre - save frequency. Save every <cite>(#rxns for FVA) * saveFre</cite> (default 0.1)</p></li>
<li><p>threads - for parallelization: &gt; 1 for explicitly stating the no. of threads used,
0 or -1 for using all available threads. Default 1.
(Requires Matlab parallel toolbox)</p></li>
<li><p>verbFlag - Verbose output. 1 to have waitbar, &gt;1 to have stepwise output (default 3)</p></li>
<li><p>loadModel - (<cite>ibm_cplex</cite> only) String of filename to be loaded. If non-empty, load the cplex
model (‘loadModel.mps’), basis (‘loadModel.bas’) and parameters (‘loadModel.prm’).
(May add also other parameters in <cite>SteadyCom</cite> for calculating the maximum growth rate.)</p></li>
</ul>
</li>
<li><p><strong>LP</strong> – LP problem structure (Cplex object for <cite>ibm_cplex</cite>) from calling <cite>SteadyComFVA</cite>.
Leave empty if calling this function alone.</p></li>
<li><p><strong>parameter</strong> – structure for solver-specific parameters.
‘param1’, value1, …   name-value pairs for <cite>solveCobraLP</cite> parameters. See <cite>solveCobraLP</cite> for details</p></li>
</ul>
</dd>
<dt class="field-even">OUTPUTS</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>minFlux</strong> – Minimum flux for each reaction</p></li>
<li><p><strong>maxFlux</strong> – Maximum flux for each reaction</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>OPTIONAL OUTPUTS:</dt><dd><dl class="simple">
<dt>minFD:      <span class="math notranslate nohighlight">\(rxnFluxList * rxnNameList\)</span> matrix containing the fluxes in <cite>options.rxnFluxList</cite></dt><dd><p>corresponding to minimizing each reaction in <cite>options.rxnNameList</cite></p>
</dd>
<dt>maxFD:      <span class="math notranslate nohighlight">\(rxnFluxList * rxnNameList\)</span> matrix containing the fluxes in <cite>options.rxnFluxList</cite></dt><dd><p>corresponding to maximizing each reaction in <cite>options.rxnNameList</cite></p>
</dd>
</dl>
<p>LP:         <cite>LP</cite> problem structure (<cite>Cplex LP</cite> object for <cite>ibm_cplex</cite>)
GR:         the growth rate at which FVA is performed</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComPOAgr">
<span class="sig-name descname"><span class="pre">SteadyComPOAgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">modelCom</span></em>, <em class="sig-param"><span class="pre">options</span></em>, <em class="sig-param"><span class="pre">LP</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/multiSpecies/SteadyCom/subroutines/SteadyComPOAgr.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComPOAgr" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze pairwise relationship between reaction fluxes/biomass variables for a community model
at community steady-state at a given growth rate. Called by <cite>SteadyComPOA</cite>. See <cite>tutorial_SteadyCom</cite> for more details.</p>
<dl class="field-list">
<dt class="field-odd">USAGE</dt>
<dd class="field-odd"><p><strong>[POAtable, fluxRange, Stat, pairList] = SteadyComPOAgr</strong> (<em>modelCom, options, LP</em>)</p>
</dd>
<dt class="field-even">INPUT</dt>
<dd class="field-even"><p><strong>modelCom</strong> – A community COBRA model structure with the following fields (created using createMultipleSpeciesModel)
(the first 5 fields are required, at least one of the last two is needed. Can be obtained using <cite>getMultiSpecisModelId</cite>):</p>
<blockquote>
<div><ul class="simple">
<li><p>S - Stoichiometric matrix</p></li>
<li><p>b - Right hand side</p></li>
<li><p>c - Objective coefficients</p></li>
<li><p>lb - Lower bounds</p></li>
<li><p>ub - Upper bounds</p></li>
<li><p>infoCom - structure containing community reaction info</p></li>
<li><p>indCom - the index structure corresponding to <cite>infoCom</cite></p></li>
</ul>
</div></blockquote>
</dd>
<dt class="field-odd">OPTIONAL INPUTS</dt>
<dd class="field-odd"><ul>
<li><p><strong>options</strong> – option structure with the following fields:</p>
<ul>
<li><p>GR - The growth rate at which POA is performed. If not
given, find the maximum growth rate by <cite>SteadyCom.m</cite></p></li>
<li><p>optBMpercent - Only consider solutions that yield at least a certain percentage of the optimal biomass (Default = 99.99)</p></li>
<li><p>rxnNameList - list of reactions (IDs or .rxns) to be analyzed. Use a <span class="math notranslate nohighlight">\((N_{rxns} + N_{organism}) * K\)</span> matrix for POA of <cite>K</cite>
linear combinations of fluxes and/or abundances (Default = biomass reaction of each organism,
or reactions listed in <cite>pairList</cite> [see below] if <cite>pairList</cite> is given)</p></li>
<li><p>pairList - pairs in <cite>rxnNameList</cite> to be analyzed. <cite>N_pair</cite> by 2 array of:</p>
<ul class="simple">
<li><ul>
<li><p>indices referring to the rxns in <cite>rxnNameList</cite>, e.g., <cite>[1 2]</cite> to analyze <cite>rxnNameList{1}</cite> vs <cite>rxnNameList{2}</cite></p></li>
</ul>
</li>
<li><ul>
<li><p>rxn names which are members of <cite>rxnNameList</cite>, e.g., <cite>{‘EX_glc-D(e)’, ‘EX_ac(e)’}</cite></p></li>
</ul>
</li>
</ul>
<p>If not supplied, analyze all <cite>K(K-1)</cite> pairs from the K targets in <cite>rxnNameList</cite>.</p>
</li>
<li><p>symmetric - true to avoid running symmetric pairs (e.g. analyze pair <cite>(j,k)</cite> only if <span class="math notranslate nohighlight">\(j &gt; k\)</span>, total :math:` K(K-1)/2 pairs)`.
Used only when <cite>pairList</cite> is not supplied.</p></li>
<li><p>Nstep - number of steps for fixing one flux at a value between the min. and the max. possible fluxes. Default 10.
Can also be a vector indicating the fraction of intermediate value to be analyzed,
e.g. <cite>[0 0.5 1]</cite> means computing at <cite>minFlux</cite>, <cite>0.5(minFlux + maxFlux)</cite> and <cite>maxFlux</cite></p></li>
<li><p>NstepScale - used only when Nstep is a single number.</p>
<ul class="simple">
<li><p>-‘lin’ for a linear (uniform) scale of step size</p></li>
<li><p>-‘log’ for a log scaling of the step sizes</p></li>
</ul>
</li>
<li><p>fluxRange - flux range for each entry in <cite>rxnNameList</cite>. <cite>K x 2</cite> matrix. Defaulted to be found by <cite>SteadyComFVA.m</cite>
(other parameters)</p></li>
<li><p>savePOA - filename to save the POA results (default ‘POAtmp/POA’). Must be non-empty. New folder is recommended</p></li>
<li><p>threads - for parallelization: &gt; 1 for explicitly stating the no. of threads used,
0 or -1 for using all available threads. Default 1.</p></li>
<li><p>verbFlag - verbose output. 0 or 1.</p></li>
<li><p>loadModel - (<cite>ibm_cplex</cite> only) string of filename to be loaded. If non-empty, load the
cplex model (‘loadModel.mps’), basis (‘loadModel.bas’) and parameters (‘loadModel.prm’).
(May add also other parameters in <cite>SteadyCom</cite> for calculating the maximum growth rate.)</p></li>
</ul>
</li>
<li><p><strong>parameter</strong> – structure for solver-specific parameters.
‘param1’, value1, …:  name-value pairs for <cite>solveCobraLP</cite> parameters. See solveCobraLP for details</p></li>
</ul>
</dd>
<dt class="field-even">OUTPUTS</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>POAtable</strong> – <cite>K x K</cite> cells. <cite>(i, i)</cite> -cell contains the flux range of <cite>rxnNameList{i}</cite>.
<cite>(i,j)</cite>-cell contains a <cite>Nstep x 2</cite> matrix, with <cite>(k, 1)</cite> -entry being the min of <cite>rxnNameList{j}</cite>
when <cite>rxnNameList{i}</cite> is fixed at the <cite>k</cite>-th value, <cite>(k, 2)</cite> -entry being the max.</p></li>
<li><p><strong>fluxRange</strong> – <cite>K x 2</cite> matrix of flux range for each entry in <cite>rxnNameList</cite></p></li>
<li><p><strong>Stat</strong> – <cite>K x K</cite> structure array with fields:</p>
<ul>
<li><p>-‘cor’: the slope from linear regression between the fluxes of a pair</p></li>
<li><p>-‘r2’:  the corresponding coefficient of determination (R-square)</p></li>
</ul>
</li>
<li><p><strong>pairList</strong> – <cite>pairList</cite> after transformation from various input formats</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComSubroutines">
<span class="sig-name descname"><span class="pre">SteadyComSubroutines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">purpose</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/multiSpecies/SteadyCom/subroutines/SteadyComSubroutines.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.multiSpecies.SteadyCom.subroutines.SteadyComSubroutines" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls different subroutines for <cite>SteadyCom</cite> functions</p>
<dl class="field-list simple">
<dt class="field-odd">USAGE</dt>
<dd class="field-odd"><p><strong>varargout = SteadyComSubroutines</strong> (<em>purpose, varargin</em>)</p>
</dd>
<dt class="field-even">INPUT</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>purpose</strong> – ‘initialize’ / ‘infoCom2indCom’ / ‘rxnList2objMatrix’ / ‘updateLPcom’ / ‘getParams’
See the respective local functions for their documentations</p></li>
<li><p><strong>varargin</strong> – various input for different subroutines</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../microbiomeModelingToolbox/index.html" class="btn btn-default float-right" title="Microbiomemodelingtoolbox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-default" title="Steadycom" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2021, The COBRA Toolbox developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/mathjax/MathJax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  


  
  
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TRCMZL1FKK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TRCMZL1FKK');
  </script>
    
</body>
</html>