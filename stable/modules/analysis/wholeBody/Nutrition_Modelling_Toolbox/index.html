

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Nutrition_modelling_toolbox &mdash; The COBRA Toolbox</title>
  

  
  
  
  
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_static/img/favicon-32x32.png">
  
  
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_static/img/favicon-16x16.png">
  
  
  
    <link rel="manifest" href="../../../../_static/json/manifest.json">
  
  
    <meta name="msapplication-config" content="../../../../_static/browserconfig.xml">
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/cobra.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../../_static/css/cobra.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
    <link rel="top" title="The COBRA Toolbox" href="../../../../index.html"/>
        <link rel="up" title="Wholebody" href="../index.html"/>
        <link rel="next" title="Exploration" href="../../exploration/index.html"/>
        <link rel="prev" title="Io" href="../io/index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> The COBRA Toolbox
          

          
            <img src="/cobratoolbox/stable/_static/img/logo.png" class="logo" alt="cobratoolbox logo" />
          
          </a>

              
          <h1>The COBRA Toolbox</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},
	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../../../_static/../" + item.website_url + "' >" + value + "</a>" + "<a href='../../../../_static/../" + item.website_url + "' ><img src='../../../../_static/link.svg'/></a></span>";
		    }
	    },
		
		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Analysis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../uFBA/index.html">Ufba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FBA/index.html">Fba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transport/index.html">Transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../thermo/index.html">Thermo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../topology/index.html">Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../robustnessAnalysis/index.html">Robustnessanalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../coupling/index.html">Coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sparseFBA/index.html">Sparsefba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../persephone/index.html">Persephone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../geometricFBA/index.html">Geometricfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../relaxedFBA/index.html">Relaxedfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FVA/index.html">Fva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gMCS/index.html">Gmcs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../findMIIS/index.html">Findmiis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../MOMA/index.html">Moma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rMTA/index.html">Rmta</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Wholebody</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../PSCMToolbox/index.html">Pscmtoolbox</a></li>
<li class="toctree-l4"><a class="reference internal" href="../io/index.html">Io</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Nutrition_modelling_toolbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../exploration/index.html">Exploration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rFBA/index.html">Rfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../parsimoniousFBA/index.html">Parsimoniousfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../deletion/index.html">Deletion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fluxEnrichmentAnalysis/index.html">Fluxenrichmentanalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ROOM/index.html">Room</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rumba/index.html">Rumba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fastForest/index.html">Fastforest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../subspaces/index.html">Subspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sampling/index.html">Sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../percentileCalc/index.html">Percentilecalc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ICONGEMs/index.html">Icongems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../igemRNA/index.html">Igemrna</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dynamicFBA/index.html">Dynamicfba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../QFCA/index.html">Qfca</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multiSpecies/index.html">Multispecies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nutritionAlgorithm/index.html">Nutritionalgorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../KLdistance/index.html">Kldistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mdFBA/index.html">Mdfba</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../base/index.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dataIntegration/index.html">Dataintegration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design/index.html">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../reconstruction/index.html">Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../visualization/index.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cite.html">How to cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../funding.html">Funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../plan.html">Development Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../citations.html">Citations</a></li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">The COBRA Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Functions</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Analysis</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Wholebody</a></li>
      <li class="breadcrumb-item active">Nutrition_modelling_toolbox</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="nutrition-modelling-toolbox">
<span id="id1"></span><h1>Nutrition_modelling_toolbox<a class="headerlink" href="#nutrition-modelling-toolbox" title="Permalink to this heading">¶</a></h1>
<span class="target" id="module-src.analysis.wholeBody.Nutrition_Modelling_Toolbox"></span><dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.calculateFoodScore">
<span class="sig-name descname"><span class="pre">calculateFoodScore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">originalFood</span></em>, <em class="sig-param"><span class="pre">vmhLabelMacros</span></em>, <em class="sig-param"><span class="pre">vmhMetaboliteMacros</span></em>, <em class="sig-param"><span class="pre">translation</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/calculateFoodScore.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.calculateFoodScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a score based on how similar the macros of the original food
are with its VMH alternative. The score is added to the vmhFood
structure. The user can add on weights in the template file to prioritise
or deprioritise certain macros. It is suggested to have the weight for
fiber, starch and minerals always set to 0.
:Usage: <strong>[vmhFood] = calculateFoodScore</strong> (<em>originalFood, vmhFood, translation</em>)</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>originalFood</strong> – The filled in template file with the original food items</p></li>
<li><p><strong>vmhFoodMacros</strong> – A structure with each field a food item that contain a
table with their macros</p></li>
</ul>
</dd>
<dt class="field-even">Optional input<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>translation</strong> – A cell with a translation of food items to a alias. The
alias is the name of the fields in vmhFoodMacros. Used
to obtain the correct original food item values</p>
</dd>
<dt class="field-odd">Output<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vmhFoodMacros</strong> – An updated vmhFoodMacro structure where the original
food item macros and the calculated scores are added to
each fields macro table</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>[vmhFood] = calculateFoodScore(originalFood, vmhFood, translation)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important that the template file is used as otherwise issues could
arise with finding the values (starting in the 6th column), the weights
(the 2nd row) and calculating the differences between the original and
VMH macros.</p>
</div>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.calculateMacroOriginalDiet">
<span class="sig-name descname"><span class="pre">calculateMacroOriginalDiet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">diet</span></em>, <em class="sig-param"><span class="pre">originalMacroTable</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/calculateMacroOriginalDiet.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.calculateMacroOriginalDiet" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Calucalte the macro composition of the diet based on the original macros</dt><dd><p>given in the template file used to choose VMH food item alternatives.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>macroDiet = calculateMacroOriginalDiet</strong> (<em>diet, originalMacroTable</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>diet</strong> – A nx2 cell array. Column one has to original food
names, column 2 has the respective amounts eaten</p></li>
<li><p><strong>originalMacroTable</strong> – A table. The filled in template file</p></li>
</ul>
</dd>
<dt class="field-odd">Output<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>macroDiet</strong> – A cell array with the total macro composition of the the
given diet based on the original food item macros</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>macroDiet = calculateMacroOriginalDiet(diet, originalMacroTable)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important that the template file base structure is not altered as
we assume the basic structure here to perform calculations</p>
</div>
<dl class="simple">
<dt>Authors</dt><dd></dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.collectFoodItemInfo">
<span class="sig-name descname"><span class="pre">collectFoodItemInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">foods2Check</span></em>, <em class="sig-param"><span class="pre">foodNames</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/collectFoodItemInfo.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.collectFoodItemInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that collects the macros and flux values for VMH food
suggestions found in vmhFoodFinder</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[allFluxes, allMacros] = collectFoodItemInfo</strong> (<em>foods2Check, varargin</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>foods2Check</strong> – Structure where each field for a food item contains
a table with in column 1 suggested VMH food items
and in column 2 the amount of food eaten</p>
</dd>
</dl>
<dl class="simple">
<dt>Optional inputs</dt><dd><dl class="simple">
<dt>addStarch:          Boolean indicating if additional starch should be</dt><dd><p>added based on the VMH food macros. Defaults to
false</p>
</dd>
<dt>macroType:          Character, stating if macros should be calculated</dt><dd><p>from ‘metabolites’ calculated flux vectors or from
‘usda’ the USDA FoodData database. Defaults to
‘metabolites’</p>
</dd>
<dt>databaseType:       Character, which database should be used currently</dt><dd><p>only USDA 2024 compatibility for USDA FoodData
database. Defaults to usda</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Outputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>allFluxes</strong> – Structure where each field is a food item
containing an table with flux values for each
suggested VMH food item</p></li>
<li><p><strong>allMacros</strong> – Structure where each field is a food item
containing an table with macros for each
suggested VMH food item</p></li>
</ul>
</dd>
<dt class="field-even">Usage<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[allFluxes, allMacros] = collectFoodItemInfo</strong> (<em>foods2Check, foodNames, “addStarch”, true</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.compareDietPerformance">
<span class="sig-name descname"><span class="pre">compareDietPerformance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">model</span></em>, <em class="sig-param"><span class="pre">diets</span></em>, <em class="sig-param"><span class="pre">rois</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/compareDietPerformance.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.compareDietPerformance" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check the effect of different diets on the possible flux
range for specified reactions.</p>
<p>[dietPerformance] = compareDietPerformance(model, diets, rois, varargin)</p>
<p>Example: [dietPerformance] = compareDietPerformance(model, diets, rois,
‘optPercentage’, 0.95, ‘microbiotaExcretionBound’, 0.5)</p>
<dl class="field-list simple">
<dt class="field-odd">INPUTS<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – COBRA model where the rois are present</p></li>
<li><p><strong>diets</strong> – Cell array where each cell contains an cell array with
The metabolite composition of the diet {‘met’, value}</p></li>
<li><p><strong>rois</strong> – Cell array with reactions to investigate under
different diets</p></li>
</ul>
</dd>
<dt class="field-even">OPTIONAL INPUTS<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>optPercentage</strong> – Integer, used in fluxVariability to indicate the
percentage of the objective for which FVA is solved.
Defaults to 99</p></li>
<li><p><strong>microbiotaExretionBound</strong> – Integer, used to constrain both bounds of
Excretion_EX_microbiota_LI_biomass. Defaults to 1</p></li>
<li><p><strong>dietNames</strong> – Cell array with names for diets in that will be used in
the output. Defaults to Diet1, Diet2 etcetc.</p></li>
</ul>
</dd>
<dt class="field-odd">OUTPUT<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dietPerformance</strong> – Table for each given diet, the min and max flux for
each roi.</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.compareDiets">
<span class="sig-name descname"><span class="pre">compareDiets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">diet1</span></em>, <em class="sig-param"><span class="pre">diet2</span></em>, <em class="sig-param"><span class="pre">one2Two</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/compareDiets.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.compareDiets" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the changes in metabolite flux composition between two diets.
It also calculates unique metabolites in each diets. It defaults to
calculating the differences in diet2 from diet1</p>
<p>[fluxChanges, uniqueDiet1, uniqueDiet2] = compareDiets(diet1,diet2,one2Two)</p>
<p>Example: compareDiets(diet1,diet2,false)</p>
<dl class="field-list simple">
<dt class="field-odd">INPUTS<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diet1</strong> – A cell array with the first column the metabolite
identifiers and the second with flux values as doubles
or strings</p></li>
<li><p><strong>diet2</strong> – A cell array with the first column the metabolite
identifiers and the second with flux values as doubles
or strings</p></li>
</ul>
</dd>
<dt class="field-even">OPTIONAL INPUTS<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>one2Two</strong> – true(0) or false(1) to state if the default of
calculating the differences in diet2 from diet1 should
be used. If false(0) differences in diet1 from diet2
will be calculated.</p>
</dd>
<dt class="field-odd">OUTPUT<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fluxChanges</strong> – Cell array with the first column the metabolite
identifier and the second column the changed flux value</p></li>
<li><p><strong>uniqueDiet1</strong> – Cell array with unique metabolites in diet1 compared to
diet2</p></li>
<li><p><strong>uniqueDiet2</strong> – Cell array with unique metabolites in diet2 compared to
diet1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.createFridaDatabase">
<span class="sig-name descname"><span class="pre">createFridaDatabase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path2Files</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/createFridaDatabase.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.createFridaDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Creation of flux tables and macro tables to be used in the nutrition
toolbox for the Frida database. Food data (frida.fooddata.dk),
National Food Institute, Technical University of Denmark.</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>createUSDAdatabase</strong> (<em>path2Files, varargin</em>)</p>
</dd>
</dl>
<dl class="simple">
<dt>Inputs</dt><dd><p>path2Files: Character array; The directory where the the required input
files for Frida are stored</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Optional inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputDir</strong> – Character array; THe directory where the results should be</p></li>
<li><p><strong>saved</strong></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>createUSDAdatabase(path2Files)</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.createUSDAdatabase">
<span class="sig-name descname"><span class="pre">createUSDAdatabase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path2Files</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/createUSDAdatabase.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.createUSDAdatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the files used in the nutrition toolbox from the USDA fooddata
central database. This can be downloaded from <a class="reference external" href="https://fdc.nal.usda.gov/download-datasets.html">https://fdc.nal.usda.gov/download-datasets.html</a>
This function was created based on the april 2024 Full Download of All
Data Types</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>createUSDAdatabase</strong> (<em>path2Files, varargin</em>)</p>
</dd>
</dl>
<dl class="simple">
<dt>Inputs</dt><dd><dl class="simple">
<dt>path2Files:         Path to the directory where all the USDA fooddata</dt><dd><p>files are stored. As well as the
usdaNutrientVmhTransl file found in the cobra
toolbox</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Optional inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>brandedFoods</strong> – Boolean, if the food source table of the branded
foods should be created. Defaults to false. Warning
putting this to true could take days of running the
code as it will have to convert almost 2 million
items</p></li>
<li><p><strong>outputDir</strong> – Path to the directory where the individual food
source databases should be stored. Defaults to
[path2files , filesep, foodSourceNutrientTables]</p></li>
<li><p><strong>finalDatabaseDir</strong> – Path to the directory where the final flux and
macro databases should be stored. Defaults to
[path2files, filesep, fluxMacroTables]</p></li>
<li><p><strong>foodSource2Use</strong> – Cell array of with food source tables are to be
used to create the final flux and macro databases.
Defaults to {‘sr_legacy_food’;’foundation_food’;’survey_fndds_food’}</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>createUSDAdatabase(path2Files)</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.extractDietFromModel">
<span class="sig-name descname"><span class="pre">extractDietFromModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">model</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/extractDietFromModel.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.extractDietFromModel" title="Permalink to this definition">¶</a></dt>
<dd><p>This function analysis an VMH model and extracts the diet based on the
lower bound constraints.</p>
<blockquote>
<div><dl class="simple">
<dt>USAGE:</dt><dd><p>[foodMenu] = extractDietFromModel(model)</p>
</dd>
<dt>INPUT:</dt><dd><p>model:     A human model (WBM)</p>
</dd>
<dt>OUTPUT:</dt><dd><dl class="simple">
<dt>foodMenu:   A nx2 cell array containing n dietary metabolites and their</dt><dd><p>corresponding flux</p>
</dd>
</dl>
</dd>
<dt>Authors:</dt><dd><p>Bronson R. Weston, 2022</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.findViableDiet">
<span class="sig-name descname"><span class="pre">findViableDiet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">model</span></em>, <em class="sig-param"><span class="pre">targetString</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/findViableDiet.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.findViableDiet" title="Permalink to this definition">¶</a></dt>
<dd><p>Identifies changes to the diet that must be made for viability. If
no solution is possible for viability, returns NaN.</p>
<p>[viableModel,pointsModel,pointsSln,dietChanges] = findViableDiet(model,targetString,varargin)</p>
<p>Example: findViableDiet(modelHM,’<a href="#id2"><span class="problematic" id="id3">Diet_EX_</span></a>’,’supplyScalar’,100,’lbValues’,-5)</p>
<dl class="field-list simple">
<dt class="field-odd">INPUTS<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – COBRA model to make viable</p></li>
<li><p><strong>targetString</strong> – String identifier for targeted reactions (e.g., ‘<a href="#id4"><span class="problematic" id="id5">EX_</span></a>’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.generateInSilicoDiet">
<span class="sig-name descname"><span class="pre">generateInSilicoDiet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">toCreateDiet</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/generateInSilicoDiet.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.generateInSilicoDiet" title="Permalink to this definition">¶</a></dt>
<dd><p>Code to take the input and creates a in silico diet. It calculates the
metabolite flux vector that can be set as dietary constraints on the
WBMs. Additionaly it calculates the macros from the metabolite flux
vector and retrieves the macros as reported for the various food items.
This way a comparison can be made to see how much of measured metabolites
reflect the reported macros. If the macros for the original diets are
given, they are taken along in the comparison. A calculation on the % of
how much carbohydrates/lipids/proteins are contributing to the total
energy of the diet.
:Usage: <strong>[dietFlux] = generateInSilicoDiet</strong> (<em>toCreateDiet, varargin</em>)</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>toCreateDiet</strong> – Path to the file with the diets that need to be
created. consist of column “originalName” where the
orignal food names are set. “databaseID” the ID of
the fooditem in their database. “databaseUsed”
which database was used to find that database
alternative. Each column after is a diet where the
values in gram show the food items consumed for
each diet.</p>
</dd>
<dt class="field-even">Optional input<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>outputDir</strong> – Path to the directory where the results should be
stored. Defaults to ‘’.</p></li>
<li><p><strong>originalDietMacros</strong> – Path to the file with the original macros for each
diet. Should contain the rows lipids,
carbohydrate, protein and energy. Defaults to ‘’.</p></li>
<li><p><strong>analyseMacros</strong> – Boolean, indicates if analysis on macros should be
performed. Defaults to true.</p></li>
<li><p><strong>addStarch</strong> – Boolean, indicates if additional starch should be
added based on the reported macros. Defaults to
false.</p></li>
</ul>
</dd>
<dt class="field-odd">Output<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dietFlux</strong> – Table, contains the dietary flux in mmol/person/day
for each diet and the dietary reactions that have
to be set.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>[vmhFood] = calculateFoodScore(originalFood, ‘outputDir’, outputDir)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The tutorial folder on the COBRA toolbox provides various template
files with the structure of how the data should be formatted. Please
look there for guidance.</p>
</div>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getDietComposition">
<span class="sig-name descname"><span class="pre">getDietComposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">input</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/getDietComposition.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getDietComposition" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a diet (or a model) and identifies the food macros</p>
<dl class="field-list simple">
<dt class="field-odd">USAGE<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[Macros,Categories] = getDietComposition</strong> (<em>input</em>)</p>
</dd>
<dt class="field-even">INPUT<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>input</strong> – either a whole-body metabolic model or a diet</p>
</dd>
</dl>
<dl class="simple">
<dt>OPTIONAL INPUT</dt><dd><dl class="simple">
<dt>macroType:  Which type of data is used to calculate macros. Currently</dt><dd><p>accepted is fdtable, metabolites and usda</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">OUTPUT<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dietComposition</strong> – A table containing the breakdown of the diet macros</p>
</dd>
</dl>
<p class="rubric">AUTHORS</p>
<p>Bronson R. Weston 2021-2022
Bram Nap 05-2024 - added additional functionilty for getting
composition when the input are metabolites and when the USDA fooddata
central database reported macros are wanting to be used. Removed
fdTable functionality.</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getDietEnergy">
<span class="sig-name descname"><span class="pre">getDietEnergy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">diet</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/getDietEnergy.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getDietEnergy" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a nx2 cell array of diet components and serving sizes or metabolite
list, computes how many calories are in the diet.</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[calories] = getDietEnergy</strong> (<em>diet, varargin</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>diet</strong> – A nx2 array of diet components and the grams of food eaten
or the dietary flux names with the flux values</p>
</dd>
<dt class="field-odd">Optional inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>databaseType</strong> – Character or cell array. Which method should be used to
obtain calories. Options are metabolite (based on flux
values) or database (cell array with ‘usda’ or ‘frida’ for
each food item to be checked)</p>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>calories</strong> – Amount of calories from the input</p>
</dd>
</dl>
<p>Example:</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getMetaboliteFlux">
<span class="sig-name descname"><span class="pre">getMetaboliteFlux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">diet</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/getMetaboliteFlux.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.getMetaboliteFlux" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a diet consisting of food items and returns the
associated flux of metabolites.</p>
<dl class="field-list simple">
<dt class="field-odd">USAGE<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[metFlux] = getMetaboliteFlux</strong> (<em>diet</em>)</p>
</dd>
<dt class="field-even">INPUT<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>diet</strong> – an nx2 cell array consisting of n dietary/food components and
their corresponding flux in grams (for food items) or mmol (for
individual metabolites) per day.</p>
</dd>
<dt class="field-odd">Optional input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>databaseType</strong> – Which database should be used, either fdtable or usda.
Corresponds to an inhouse table or the USDA foodData
database. Defaults to usda</p></li>
<li><p><strong>addStarch</strong> – Boolean wether or not additional starch should be added
to the flux vector when it is not measured in the macros</p></li>
</ul>
</dd>
<dt class="field-even">OUTPUT<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>metFlux</strong> – returns an nx2 cell array containing a list of all n metabolites
within the diet and the corresponding flux.</p>
</dd>
</dl>
<p class="rubric">AUTHORS</p>
<p>Bronson R. Weston 2022
Bram Nap, 05-2024 - Added on functionality to work with the FoodData
central database and add on missing starch functionalities. Removed
FdTable functionality.
02-2025 added Frida database functionality and mixed database
calculations</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.makeDietFormatConsistant">
<span class="sig-name descname"><span class="pre">makeDietFormatConsistant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">model</span></em>, <em class="sig-param"><span class="pre">diet</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/makeDietFormatConsistant.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.makeDietFormatConsistant" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a diet input and checks it for formatting consisteny
for input into setFoodConstraints</p>
<dl class="field-list simple">
<dt class="field-odd">USAGE<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[diet] = makeDietFormatConsistant</strong> (<em>model,diet</em>)</p>
</dd>
</dl>
<dl>
<dt>INPUTS</dt><dd><p>model:             A COBRA model</p>
<dl class="simple">
<dt>diet:            A nx2 cell array containing n dietary components and</dt><dd><p>the corresponding flux</p>
</dd>
</dl>
</dd>
<dt>OUTPUT</dt><dd><p>diet:           A diet of consistent format for setFoodConstraints</p>
</dd>
</dl>
<p class="rubric">Authors</p>
<p>Bronson R. Weston 2022</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.normalizeDiet">
<span class="sig-name descname"><span class="pre">normalizeDiet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">foodMenu</span></em>, <em class="sig-param"><span class="pre">calories</span></em>, <em class="sig-param"><span class="pre">exceptions</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/normalizeDiet.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.normalizeDiet" title="Permalink to this definition">¶</a></dt>
<dd><p>This function normalizes a diet to meet caloric specifications.</p>
<dl class="field-list simple">
<dt class="field-odd">USAGE<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[foodMenu] = normalizeDiet</strong> (<em>foodMenu,calories,exceptions</em>)</p>
</dd>
</dl>
<dl class="simple">
<dt>INPUTS</dt><dd><dl class="simple">
<dt>foodMenu:          An nx2 cell array containing the food items and the</dt><dd><p>corresponding flux (n= number of food items)</p>
</dd>
<dt>calories           The number of calories the diet should be</dt><dd><p>renormalized to</p>
</dd>
<dt>exceptions:        A cell array containing any specific food items that</dt><dd><p>should be excluded from the renormalization step.
This maintains the flux for the specefied food
items.</p>
</dd>
</dl>
</dd>
<dt>OUTPUT</dt><dd><p>foodMenu:          An re-normalized version of the original foodMenu</p>
</dd>
</dl>
<p class="rubric">Authors</p>
<p>Bronson R. Weston 2022</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.nutritionAlgorithmWBM">
<span class="sig-name descname"><span class="pre">nutritionAlgorithmWBM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">model</span></em>, <em class="sig-param"><span class="pre">obj</span></em>, <em class="sig-param"><span class="pre">objMinMax</span></em>, <em class="sig-param"><span class="pre">rois</span></em>, <em class="sig-param"><span class="pre">roisMinMax</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/nutritionAlgorithmWBM.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.nutritionAlgorithmWBM" title="Permalink to this definition">¶</a></dt>
<dd><p>Identifies the minimal changes to a diet necessary to get a desired
change in one or more reactions of interest. One may enter a metabolite
of the pointsModel instead of a reaction and the algorithm will optimize the
diet with a sink or demand reaction for the corresponding metabolite of
interest.</p>
<dl class="field-list">
<dt class="field-odd">USAGE<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[newDietModel,pointsModel,slnMin,slnMax,pointsModelSln,itemsRemoved,itemsAdded] = nutritionAlgorithmWBM</strong> (<em>pointsModel,obj,objMinMax,rois,roisMinMax,options</em>) – Example: [newDietModel,pointsModel,roiFlux,pointsModelSln,itemsRemoved,itemsAdded] = nutritionAlgorithmWBM(WBmodel,’Whole_body_objective_rxn’,’max’,{},{})</p>
</dd>
<dt class="field-even">INPUTS<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pointsModel</strong> – COBRA pointsModel structure with the fields:</dt><dd><ul class="simple">
<li><p>.S</p></li>
<li><p>.b</p></li>
<li><p>.ub</p></li>
<li><p>.ub</p></li>
<li><p>.mets  (required if pointsModel.SIntRxnBool absent)</p></li>
<li><p>.rxns  (required if pointsModel.SIntRxnBool absent)</p></li>
</ul>
</dd>
</dl>
<p>obj:           organism’s objective function</p>
<p>objMinMax:     minimize (‘min’) or maximize (‘max’) objective function</p>
<p>rois:          cell array of all reactions of interest</p>
<p>roisMinMax:    cell array of ‘min’/’max’ entries for rois</p>
</dd>
<dt class="field-odd">OPTIONAL INPUTS<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>options</strong> – Structure containing the optional specifications:</p>
<ul class="simple">
<li><p>.foodOrMets:  dictates if the algorithm adds individual</p></li>
</ul>
<p>metabolites to the diet or food items. Default is food items.
“Food Cat” adjust algorithm to identify categories of food rather
than specific items.”AllMets” allows any dietary metabolite into
the solution and “FoodMets” only allows metabolites that are in
the fdTable spreadsheet into the solution.
Possible inputs are: “Food”, “AllMets”, “FoodMets”.</p>
<ul class="simple">
<li><p>.roiWeights:   a vector of weights for each reaction of interest</p></li>
</ul>
<p>default is equal to 1</p>
<ul class="simple">
<li><p>.weightedFoodItems: A cell vector that specifies any food items</p></li>
</ul>
<p>or metabolites that should be weighted and the corresponding weight.</p>
<ul class="simple">
<li><p>.initObjSln: provide an initial solution for the objective</p></li>
</ul>
<p>function. Output from optimizeWBmodel.</p>
<ul class="simple">
<li><p>.caloricRange: 1x2 vector defining boundries for diet calories</p></li>
<li><dl class="simple">
<dt>.slnType: Specify if solution should be ‘Detailed’ or ‘Quick’.</dt><dd><p>Default setting is ‘Detailed’</p>
</dd>
</dl>
</li>
<li><p>.roiBound: ‘Unbounded’ or ‘Bounded’. Default is ‘Bounded’.</p></li>
<li><dl class="simple">
<dt>.foodAddedLimit: Specify a limit for the units of food that can</dt><dd><p>be added to the diet</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>.foodRemovedLimit: Specify a limit for the units of food that can</dt><dd><p>be removed from the diet</p>
</dd>
</dl>
</li>
<li><p>.freeMets: Specifies any metabolites that should be freely</p></li>
</ul>
<p>available to the model.</p>
<ul class="simple">
<li><p>.graphicalAnalysis: set to ‘True’ include graphical analysis and</p></li>
</ul>
<p>‘False’ to not include. Default is ‘False’ if .slnType is set to
‘Quick but is ‘True; if .slnType is ‘Detailed’.</p>
<ul class="simple">
<li><p>.removeFoodItem: A nx2 cell array with the first column the food</p></li>
</ul>
<p>item ID and the second column the name of the database of the food
items that should be removed from the analysis</p>
<ul class="simple">
<li><p>.addPrice: a nx3 cell array with the first column the food item</p></li>
</ul>
<p>ID, the second column the name of the database, and in the third
column the price (any currency) associated with that food item.
Allows for optimizing the price of a diet, but only if enough
information is available.</p>
</dd>
<dt class="field-even">OUTPUT<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>newDietModel</strong></p></li>
<li><p><strong>pointsModel</strong></p></li>
<li><p><strong>roiFlux</strong></p></li>
<li><p><strong>pointsModelSln</strong></p></li>
<li><p><strong>menuChanges</strong></p></li>
<li><p><strong>macroChanges</strong></p></li>
<li><p><strong>roiChanges</strong></p></li>
</ul>
</dd>
</dl>
<p>usda and frida database. Enabled options for constraints with various
macronutrients. Removed old/not used code. Added additional outputs for
the user to better store and interpret the results.
Set up the options and initialise variables</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.searcher">
<span class="sig-name descname"><span class="pre">searcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">keyWords</span></em>, <em class="sig-param"><span class="pre">database</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/searcher.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.searcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that searches a database based on keywords with one of two
search strategies</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[output] = searcher</strong> (<em>keyWords, database, varargin</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>keyWords</strong> – Array of string that are to be used to search with</p></li>
<li><p><strong>database</strong> – Table of a database that has to be searched</p></li>
</ul>
</dd>
<dt class="field-odd">Optional inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchType</strong> – Method of searching keywords in the food database.
Either iterative or cumulative. Defaults to iterative</p></li>
<li><p><strong>notInclude</strong> – Key words that exclude items. Defaults to an empty
cell array.</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>output</strong> – A cell array with the matches found in the database</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>[output] = searcher(keyWords, database, “searchType”, ‘cumulative’)</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.setFoodRxnsWbm">
<span class="sig-name descname"><span class="pre">setFoodRxnsWbm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">wbm</span></em>, <em class="sig-param"><span class="pre">database</span></em>, <em class="sig-param"><span class="pre">resetDietBounds</span></em>, <em class="sig-param"><span class="pre">addPrice</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/setFoodRxnsWbm.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.setFoodRxnsWbm" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts a WBM so that it can exchange food items and break them down into
their respective metabolite components. Used to prepare WBMs to accept
fooditem consumed weights as dietary input.
:Usage: <strong>[wbm] = setFoodRxnsWbm</strong> (<em>diet, wbm</em>)</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diet</strong> – cell array with the databases where food items originated from.
the USDA, FRIDA or both databases should be used to add food
items on</p></li>
<li><p><strong>wbm</strong> – A WBM model</p></li>
<li><p><strong>resetDietBounds</strong> – Boolean, indicate if all <a href="#id6"><span class="problematic" id="id7">Diet_EX_</span></a> reactions are set
to 0, defaults to true.</p></li>
<li><p><strong>addPrice</strong></p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>wbm</strong> – An updated WBM model with food exchange and breakdown reactions.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>[wbm] = setFoodRxnsWbm(diet, wbm)</p>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.setInSilicoDiet">
<span class="sig-name descname"><span class="pre">setInSilicoDiet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dietToSet</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/setInSilicoDiet.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.setInSilicoDiet" title="Permalink to this definition">¶</a></dt>
<dd><p>Code to set either the dietary flux vector as a diet or the food items
themselves on WBMs. The WBMs can either be the default Harvey/Harvetta or
custom ones. The models are saved in specific folders and there is
possibility to test the feasibility on the given diets for these models.</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>setInSilicoDiet</strong> (<em>dietToSet, varargin</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dietToSet</strong> – Path to the file with the diets that need to be
created. consist of column “originalName” where the
orignal food names are set. “foodName” the name of
the database alternatives. “databaseID” the ID of
the fooditem in their database. “databaseUsed”
which database was used to find that database
alternative. Each column after is a diet where the
values in gram show the food items consumed for
each diet.</p>
</dd>
<dt class="field-odd">Optional input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadataPath</strong> – Path to the metadata file path. Should contain the
columns “ID”, “sex” and “Diet”. Defaults to ‘’.</p></li>
<li><p><strong>outputDir</strong> – Path to the directory where the results should be
stored. Defaults to ‘’.</p></li>
<li><p><strong>constrainFoodWBM</strong> – Boolean, indicates if food item exchange reactions
and food item breakdown reactions should be added
to the WBMs. The grams of food item consumed are
then used as exchange flux of the food items. This
should only be used to make queries on the
composition of food items on the diet as the models
become bulky. Works well with the nutrition
algorithm. Defaults to false.</p></li>
<li><p><strong>constrainFluxWBM</strong> – Boolean, indicates if the the diet flux vector
should be set on the WBMs.  Defaults to true.</p></li>
<li><p><strong>checkFeasibility</strong> – Boolean, indicates if WBMs should be checked for
feasibility. Defaults to true.</p></li>
<li><p><strong>wbmVersion</strong> – The version of a specific WBM to use. Do not start
with ‘_’. Defaults to ‘’ and thus latest version is
loaded.</p></li>
<li><p><strong>pathToWbms</strong> – If non standard Harvey Harvetta models are used
indicate where they are stored. If there is a
changed general female and male model ensure that
_male and _female are present in the filename.
Otherwise ensure that sample ID is present in the
name that corresponds with the metadata.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>setInSilicoDiet(dietToSet, ‘checkFeasibility’, false)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The tutorial folder on the COBRA toolbox provides various template
files with the structure of how the data should be formatted. Please
look there for guidance.</p>
</div>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="src.analysis.wholeBody.Nutrition_Modelling_Toolbox.vmhFoodFinder">
<span class="sig-name descname"><span class="pre">vmhFoodFinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">templateFilePath</span></em>, <em class="sig-param"><span class="pre">varargin</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/master/src/analysis/wholeBody/Nutrition_Modelling_Toolbox/vmhFoodFinder.m"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#src.analysis.wholeBody.Nutrition_Modelling_Toolbox.vmhFoodFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Finding VMH food alternatives to original food items based on key words
or pre-selected VMH food items.</p>
<dl class="field-list simple">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[output, fluxValues] = vmhFoodFinder</strong> (<em>templateFilePath, varargin</em>)</p>
</dd>
<dt class="field-even">Inputs<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>templateFilePath</strong> – Path to the filled in template file</p>
</dd>
<dt class="field-odd">Optional Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchType</strong> – Method of searching keywords in the food database.
Either iterative or cumulative. Defaults to
iterative</p></li>
<li><p><strong>addStarch</strong> – Boolean indicating if additional starch should be
added based on the VMH food macros. Defaults to
false</p></li>
<li><p><strong>databaseType</strong> – Character, which database should be used either
‘usda’ for USDA FoodData database or ‘frida’ for
the Danish food institute database. Can be ‘mixed’
if both databases should be used.</p></li>
<li><p><strong>maxItems</strong> – Numeric, value indicating what the max amount of
VMH food alternatives will be analysed for macros.
Defaults to 50</p></li>
<li><p><strong>outputDir</strong> – Path to where the output file will be stored.
Defaults to [pwd filesep ‘NT_Result’]</p></li>
<li><p><strong>foodSources2Use</strong> – Cell of strings, dictates which food sources from
the USDA database will be used to find food items.
Defaults to {‘sr_legacy_food’; ‘foundation_food’;
‘survey_fndds_food’};</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>scoredFoods</strong> – A structure where each field is a fooditem and
contains a table with the macro values of the
original food items and the VMH alternatives. The
score calculate based on similarity witht the
original food item is present as well.</p></li>
<li><p><strong>fluxValues</strong> – A structure where each field is a fooditem
containing the calculated flux vector based on the
amount eaten</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>[output, fluxValues] = vmhFoodFinder(templateFilePath, ‘addStarch’, true)</p>
</dd></dl>

</section>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../exploration/index.html" class="btn btn-default float-right" title="Exploration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../io/index.html" class="btn btn-default" title="Io" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2021, The COBRA Toolbox developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/sphinx_highlight.js"></script>

  


  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TRCMZL1FKK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TRCMZL1FKK');
  </script>
    
</body>
</html>