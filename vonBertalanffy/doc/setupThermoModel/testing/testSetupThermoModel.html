<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of testSetupThermoModel</title>
  <meta name="keywords" content="testSetupThermoModel">
  <meta name="description" content="script for testing functionality of vonBertalanffy COBRA toolbox extension">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html setupThermoModel --><!-- menu.html testing -->
<h1>testSetupThermoModel
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>script for testing functionality of vonBertalanffy COBRA toolbox extension</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">script for testing functionality of vonBertalanffy COBRA toolbox extension</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../setupThermoModel/setupThermoModel.html" class="code" title="function [modelT,directions,solutionThermoRecon]=setupThermoModel(model,metAbbrAlbertyAbbr,metGroupCont,Alberty2006,computedSpeciesData,temp,PHA,IS,CHI,biomassRxnAbbr,rxnAbbrDatabaseID,defaultMetBounds,metBoundsFile,rxnBoundsFile,Legendre,useKeqData,nStdDevGroupCont,cumNormProbCutoff,figures,printToFile,secondPassAssignment)">setupThermoModel</a>	Thermodynamically constrains a COBRA model.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%script for testing functionality of vonBertalanffy COBRA toolbox extension</span>
0002 
0003 <span class="comment">%setup the path to the stripts and data</span>
0004 initVonBertalanffy
0005 
0006 <span class="comment">%modelToTest='iCore';</span>
0007 <span class="comment">%modelToTest='iCoreED';</span>
0008 modelToTest=<span class="string">'iAF1260'</span>;
0009 <span class="comment">%modelToTest='ReconX';</span>
0010 
0011 <span class="keyword">switch</span> modelToTest
0012     <span class="keyword">case</span> <span class="string">'iAF1260'</span>
0013         <span class="comment">%name of biomass reaction</span>
0014         biomassRxnAbbr=<span class="string">'Ec_biomass_iAF1260_core_59p81M'</span>;
0015         
0016         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'reconstructions'</span> filesep <span class="string">'iAF1260_flux1.mat'</span>]);
0017         model.description=<span class="string">'iAF1260'</span>;
0018         
0019         <span class="comment">%group contrbuion data for E. coli</span>
0020         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'groupContribution'</span> filesep <span class="string">'metGroupCont_Ecoli_iAF1260.mat'</span>]);
0021         
0022         <span class="keyword">if</span> model.S(952,350)==0
0023             model.S(952,350)=1;<span class="comment">%one reaction needing mass balanced in iAF1260</span>
0024         <span class="keyword">end</span>
0025         model.metCharges(strcmp(<span class="string">'asntrna[c]'</span>,model.mets))=0;<span class="comment">%one reaction needing charge balancing</span>
0026         
0027         <span class="comment">% default thermodynamic parameters</span>
0028         <span class="keyword">if</span> 1
0029             temp=310.15;
0030             PHA.c=7.7;
0031             PHA.p=7.7;
0032             PHA.e=7.7;
0033             IS.c=0.25;
0034             IS.p=0.25;
0035             IS.e=0.25;
0036             CHI.c=0;
0037             CHI.p=90; <span class="comment">%milliVolts</span>
0038             CHI.e=90;
0039         <span class="keyword">else</span>
0040             temp=310.15;
0041             PHA.c=7.7;
0042             PHA.p=5;
0043             PHA.e=5;
0044             IS.c=0.25;
0045             IS.p=0.15;
0046             IS.e=0.15;
0047             CHI.c=0;
0048             CHI.p=90; <span class="comment">%milliVolts</span>
0049             CHI.e=90;
0050         <span class="keyword">end</span>
0051         computedSpeciesData=[];
0052         
0053         defaultMetBounds.lb = 1e-5; <span class="comment">%Molar</span>
0054         defaultMetBounds.ub = 0.02; <span class="comment">%Molar</span>
0055         
0056         <span class="comment">%flag to include heursitic assignment in addition to thermodynamic</span>
0057         <span class="comment">%assignment</span>
0058         secondPassAssignment=0;
0059     <span class="keyword">case</span> <span class="string">'iCore'</span>
0060         <span class="comment">%Ecoli core</span>
0061         biomassRxnAbbr=<span class="string">'Biomass_Ecoli_core_w/GAM'</span>;
0062         <span class="comment">%Ecoli core</span>
0063         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'reconstructions'</span> filesep <span class="string">'ecoli_core_xls2model.mat'</span>]);
0064         model.description=<span class="string">'iCore'</span>;
0065         <span class="comment">%group contrbuion data for E. coli</span>
0066         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'groupContribution'</span> filesep <span class="string">'metGroupCont_Ecoli_iAF1260.mat'</span>]);
0067         
0068         
0069         <span class="comment">% default thermodynamic parameters</span>
0070         <span class="keyword">if</span> 0
0071             temp=310.15;
0072             PHA.c=7.7;
0073             PHA.p=7.7;
0074             PHA.e=7.7;
0075             IS.c=0.25;
0076             IS.p=0.25;
0077             IS.e=0.25;
0078             CHI.c=0;
0079             CHI.p=90; <span class="comment">%milliVolts</span>
0080             CHI.e=90;
0081         <span class="keyword">else</span>
0082             temp=310.15;
0083             PHA.c=7.7;
0084             PHA.p=5;
0085             PHA.e=5;
0086             IS.c=0.25;
0087             IS.p=0.15;
0088             IS.e=0.15;
0089             CHI.c=0;
0090             CHI.p=90; <span class="comment">%milliVolts</span>
0091             CHI.e=90;
0092         <span class="keyword">end</span>
0093         computedSpeciesData=[];
0094         
0095         defaultMetBounds.lb = 1e-5; <span class="comment">%Molar</span>
0096         defaultMetBounds.ub = 0.02; <span class="comment">%Molar</span>
0097         
0098         secondPassAssignment=0;
0099     <span class="keyword">case</span> <span class="string">'iCoreED'</span>
0100         <span class="comment">%Ecoli core</span>
0101         biomassRxnAbbr=<span class="string">'Biomass_Ecoli_core_w/GAM'</span>;
0102         <span class="comment">%Ecoli core</span>
0103         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'reconstructions'</span> filesep <span class="string">'iCoreED.mat'</span>]);
0104         model=iCoreED;
0105         model.description=<span class="string">'iCoreED'</span>;
0106         <span class="comment">%group contrbuion data for E. coli</span>
0107         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'groupContribution'</span> filesep <span class="string">'metGroupCont_Ecoli_iAF1260.mat'</span>]);
0108         
0109         <span class="comment">% default thermodynamic parameters</span>
0110         <span class="keyword">if</span> 0
0111             temp=310.15;
0112             PHA.c=7.7;
0113             PHA.p=7.7;
0114             PHA.e=7.7;
0115             IS.c=0.25;
0116             IS.p=0.25;
0117             IS.e=0.25;
0118             CHI.c=0;
0119             CHI.p=90; <span class="comment">%milliVolts</span>
0120             CHI.e=90;
0121         <span class="keyword">else</span>
0122             temp=310.15;
0123             PHA.c=7.7;
0124             PHA.p=5;
0125             PHA.e=5;
0126             IS.c=0.25;
0127             IS.p=0.15;
0128             IS.e=0.15;
0129             CHI.c=0;
0130             CHI.p=90; <span class="comment">%milliVolts</span>
0131             CHI.e=90;
0132         <span class="keyword">end</span>
0133         computedSpeciesData=[];
0134         
0135         defaultMetBounds.lb = 1e-5; <span class="comment">%Molar</span>
0136         defaultMetBounds.ub = 0.02; <span class="comment">%Molar</span>
0137         
0138         secondPassAssignment=0;
0139     <span class="keyword">case</span> <span class="string">'ReconX'</span>
0140         <span class="comment">%biomass reaction</span>
0141         biomassRxnAbbr=<span class="string">'biomass_reaction'</span>;
0142         <span class="keyword">if</span> 1
0143             load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'reconstructions'</span> filesep <span class="string">'ReconX.mat'</span>]);
0144             <span class="keyword">if</span> isfield(model,<span class="string">'metCharge'</span>)
0145                 model.metCharges=model.metCharge;
0146                 rmfield(model,<span class="string">'metCharge'</span>)
0147             <span class="keyword">end</span>
0148         <span class="keyword">else</span>
0149             load(<span class="string">'/home/common/IEM/IEMdirectionality/data/ReconX/Hulda/ReconX'</span>)
0150             
0151             model=newModel;
0152         <span class="keyword">end</span>
0153         model.description=<span class="string">'ReconX'</span>;
0154         <span class="comment">%group contrbuion data for E. coli</span>
0155         load([vonBdir filesep <span class="string">'setupThermoModel'</span> filesep <span class="string">'experimentalData'</span> filesep <span class="string">'groupContribution'</span> filesep <span class="string">'metGroupCont_ReconX.mat'</span>]);
0156         
0157         <span class="comment">%thermodynamic parameters</span>
0158         temp=310.15;
0159         
0160         <span class="comment">%log10(hydrogen ion activity)</span>
0161         PHA.c=7.35;
0162         PHA.e=7;
0163         PHA.g=6.5;
0164         PHA.l=4.8;
0165         PHA.m=8;
0166         PHA.n=7.35;
0167         PHA.r=7.07;
0168         PHA.x=7;
0169         
0170         <span class="comment">%ionic strength</span>
0171         someIonicStrength=0.1;
0172         IS.c=someIonicStrength;
0173         IS.e=someIonicStrength;
0174         IS.g=someIonicStrength;
0175         IS.l=someIonicStrength;
0176         IS.m=someIonicStrength;
0177         IS.n=someIonicStrength;
0178         IS.r=someIonicStrength;
0179         IS.x=someIonicStrength;
0180         
0181         <span class="comment">%milliVolts</span>
0182         CHI.c=0;
0183         CHI.e=0;
0184         CHI.g=0;
0185         CHI.l=0;
0186         CHI.m=150; <span class="comment">%Wan et al.</span>
0187         CHI.n=0;
0188         CHI.r=0;
0189         CHI.x=0;
0190         
0191         <span class="comment">%TODO - Hulda</span>
0192         computedSpeciesData=[];
0193         
0194         defaultMetBounds.lb = 1e-7; <span class="comment">%Molar</span>
0195         defaultMetBounds.ub = 0.02; <span class="comment">%Molar</span>
0196         
0197         secondPassAssignment=0;
0198 <span class="keyword">end</span>
0199 
0200 pause(eps)
0201 
0202 <span class="keyword">if</span> 1
0203     <span class="comment">%parameters for routine setup WITH printouts and figures</span>
0204     metBoundsFile=[];
0205     rxnBoundsFile=[];
0206     Legendre=1;
0207     useKeqData=1;
0208     nStdDevGroupCont=1;
0209     cumNormProbCutoff=0.2;
0210     figures=1;
0211     printToFile=1;
0212 <span class="keyword">else</span>
0213     <span class="comment">%other choice of parameters for routine setup without printouts or</span>
0214     <span class="comment">%figures</span>
0215     metBoundsFile=[];
0216     rxnBoundsFile=[];
0217     Legendre=1;
0218     useKeqData=1;
0219     nStdDevGroupCont=1;
0220     cumNormProbCutoff=0.2;
0221     figures=0;
0222     printToFile=0;
0223 <span class="keyword">end</span>
0224 
0225 rxnAbbrDatabaseID=[];
0226 
0227 <span class="comment">%setup a thermodynamically constrained model of metabolism</span>
0228 [modelT,directions,solutionThermoRecon]=<a href="../../setupThermoModel/setupThermoModel.html" class="code" title="function [modelT,directions,solutionThermoRecon]=setupThermoModel(model,metAbbrAlbertyAbbr,metGroupCont,Alberty2006,computedSpeciesData,temp,PHA,IS,CHI,biomassRxnAbbr,rxnAbbrDatabaseID,defaultMetBounds,metBoundsFile,rxnBoundsFile,Legendre,useKeqData,nStdDevGroupCont,cumNormProbCutoff,figures,printToFile,secondPassAssignment)">setupThermoModel</a>(model,metAbbrAlbertyAbbr,<span class="keyword">...</span>
0229     metGroupCont,Alberty2006,computedSpeciesData,temp,PHA,IS,CHI,biomassRxnAbbr,<span class="keyword">...</span>
0230     rxnAbbrDatabaseID,defaultMetBounds,metBoundsFile,rxnBoundsFile,Legendre,useKeqData,<span class="keyword">...</span>
0231     nStdDevGroupCont,cumNormProbCutoff,figures,printToFile,secondPassAssignment);</pre></div>
<hr><address>Generated on Fri 20-May-2011 17:06:05 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>