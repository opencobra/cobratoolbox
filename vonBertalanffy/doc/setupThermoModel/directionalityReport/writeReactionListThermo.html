<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of writeReactionListThermo</title>
  <meta name="keywords" content="writeReactionListThermo">
  <meta name="description" content="exports a list of reactions and bounds to a text file">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html setupThermoModel --><!-- menu.html directionalityReport -->
<h1>writeReactionListThermo
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>exports a list of reactions and bounds to a text file</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function writeReactionListThermo(model,FileName,start,stop) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> exports a list of reactions and bounds to a text file

 INPUT
 model
 FileName  Name of output file

 OPTIONAL INPUT
 start     integer index of first reaction index to write out
 stop      integer index of last reaction index to write out

 Ines Thiele 07/12/07
 Ronan Fleming - slight adaption for thermodynamic model</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function writeReactionListThermo(model,FileName,start,stop)</a>
0002 <span class="comment">% exports a list of reactions and bounds to a text file</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% INPUT</span>
0005 <span class="comment">% model</span>
0006 <span class="comment">% FileName  Name of output file</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% OPTIONAL INPUT</span>
0009 <span class="comment">% start     integer index of first reaction index to write out</span>
0010 <span class="comment">% stop      integer index of last reaction index to write out</span>
0011 <span class="comment">%</span>
0012 <span class="comment">% Ines Thiele 07/12/07</span>
0013 <span class="comment">% Ronan Fleming - slight adaption for thermodynamic model</span>
0014 
0015 <span class="keyword">if</span> nargin &lt; 4
0016     stop = length(model.rxns);
0017 <span class="keyword">end</span>
0018 
0019 <span class="keyword">if</span> nargin &lt; 3
0020     start = 1;
0021 <span class="keyword">end</span>
0022 
0023 h = waitbar(0, <span class="string">'Writing reaction list is in Progress ...'</span>);
0024 fid = fopen(FileName,<span class="string">'w'</span>);
0025 <span class="keyword">for</span> j=start:stop
0026     fprintf(fid,<span class="string">'%d'</span>,j);
0027     fprintf(fid,<span class="string">'\t'</span>);
0028     fprintf(fid,<span class="string">'%s'</span>,model.rxns{j});
0029     fprintf(fid,<span class="string">'\t'</span>);
0030     fprintf(fid,<span class="string">'%s'</span>,model.rxn(j).officialName);
0031     fprintf(fid,<span class="string">'\t'</span>);
0032     tmp=find(model.S(:,j)&lt;0);
0033     <span class="keyword">for</span> i=1:length(tmp)
0034         fprintf(fid,<span class="string">'%d'</span>,-1*model.S(tmp(i),j));
0035         fprintf(fid,<span class="string">'%s'</span>,<span class="string">' '</span>);
0036         fprintf(fid,<span class="string">'%s'</span>,model.mets{tmp(i)});
0037         <span class="keyword">if</span> (i~=length(tmp))
0038             fprintf(fid,<span class="string">'%s'</span>,<span class="string">' + '</span>);
0039         <span class="keyword">end</span>
0040     <span class="keyword">end</span>
0041     clear tmp;
0042     <span class="keyword">if</span>(model.lb(j)&lt;0)
0043         fprintf(fid,<span class="string">'%s'</span>,<span class="string">' &lt;==&gt; '</span>);
0044     <span class="keyword">elseif</span>    (strncmp(model.rxns{j},<span class="string">'EX_'</span>,3)) || (strncmp(model.rxns{j},<span class="string">'Exch_'</span>,5))
0045         <span class="comment">% exception for exchange reactions whose compounds are only</span>
0046         <span class="comment">% secreted</span>
0047         <span class="keyword">if</span> length(find(model.S(:,j)&gt;0))==0
0048             fprintf(fid,<span class="string">'%s'</span>,<span class="string">' &lt;==&gt; '</span>);
0049         <span class="keyword">end</span>
0050     <span class="keyword">else</span>
0051         fprintf(fid,<span class="string">'%s'</span>, <span class="string">' --&gt; '</span>);
0052     <span class="keyword">end</span>
0053     tmp=find(model.S(:,j)&gt;0);
0054     <span class="keyword">for</span> i=1:length(tmp)
0055         fprintf(fid,<span class="string">'%d'</span>,model.S(tmp(i),j));
0056         fprintf(fid,<span class="string">'%s'</span>,<span class="string">' '</span>);
0057         fprintf(fid,<span class="string">'%s'</span>,model.mets{tmp(i)});
0058 
0059         <span class="keyword">if</span> (i~=length(tmp))
0060             fprintf(fid,<span class="string">'%s'</span>,<span class="string">' + '</span>);
0061         <span class="keyword">end</span>
0062     <span class="keyword">end</span>
0063     clear tmp;
0064     fprintf(fid,<span class="string">'\t'</span>);
0065     fprintf(fid,<span class="string">'%d '</span>,model.lb(j));
0066     fprintf(fid,<span class="string">'\t'</span>);
0067     fprintf(fid,<span class="string">'%d '</span>,model.ub(j));
0068     fprintf(fid,<span class="string">'\t'</span>);
0069     <span class="comment">%     if (model.subsystem)</span>
0070     <span class="comment">%         fprintf(fid,'%s',model.subsytem{i});</span>
0071     <span class="comment">%         fprintf(fid,'\t');</span>
0072     <span class="comment">%     end</span>
0073     fprintf(fid,<span class="string">'\n'</span>);
0074     waitbar((j - start + 1)/(stop-start+1),h);
0075 <span class="keyword">end</span>
0076 fclose(fid);
0077 close(h);</pre></div>
<hr><address>Generated on Fri 20-May-2011 17:06:05 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>