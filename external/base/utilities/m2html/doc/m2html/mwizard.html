<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of mwizard</title>
  <meta name="keywords" content="mwizard">
  <meta name="description" content="MWIZARD - M2HTML Graphical User Interface">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">m2html</a> &gt; mwizard.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for m2html&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>mwizard
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>MWIZARD - M2HTML Graphical User Interface</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function mwizard(file) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">MWIZARD - M2HTML Graphical User Interface
  MWIZARD launches a Matlab GUI front-end to edit parameters
  that are then used by M2HTML to generate HTML documentation.
  MWIZARD(FILE) allows to specify a mat-file FILE from which
  default parameters are extracted and can be updated.  

  For more information, please read the M2HTML tutorial and FAQ at:
    &lt;http://www.artefact.tk/software/matlab/m2html/&gt;

  See also <a href="m2html.html" class="code" title="function m2html(varargin)">M2HTML</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="m2html.html" class="code" title="function m2html(varargin)">m2html</a>	M2HTML - Documentation Generator for Matlab M-files and Toolboxes in HTML</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function h = initWindow</a></li><li><a href="#_sub2" class="code">function buildWindow(h)</a></li><li><a href="#_sub3" class="code">function doClose(fig,evd,h)</a></li><li><a href="#_sub4" class="code">function doNewFile(fig,evd,h)</a></li><li><a href="#_sub5" class="code">function doOpenFile(fig,evd,h)</a></li><li><a href="#_sub6" class="code">function status = doSaveFile(fig,evd,h)</a></li><li><a href="#_sub7" class="code">function status = doSaveAsFile(fig,evd,h)</a></li><li><a href="#_sub8" class="code">function doRunFile(fig,evd,h)</a></li><li><a href="#_sub9" class="code">function status = doCheckSave(h)</a></li><li><a href="#_sub10" class="code">function doHelp(fig,evd,h)</a></li><li><a href="#_sub11" class="code">function varargout = initOptions(h)</a></li><li><a href="#_sub12" class="code">function refreshOptions(h)</a></li><li><a href="#_sub13" class="code">function doInitHTMLDir(fig,evd,h)</a></li><li><a href="#_sub14" class="code">function doInitTpl(fig,evd,h)</a></li><li><a href="#_sub15" class="code">function doInitMfiles(fig,evd,h)</a></li><li><a href="#_sub16" class="code">function doInitGraphs(fig,evd,h)</a></li><li><a href="#_sub17" class="code">function doSetMfiles(fig,evd,h)</a></li><li><a href="#_sub18" class="code">function doSetRecursive(fig,evd,h)</a></li><li><a href="#_sub19" class="code">function doSetOutputDir(fig,evd,h)</a></li><li><a href="#_sub20" class="code">function doSetIndex(fig,evd,h)</a></li><li><a href="#_sub21" class="code">function doSetExtension(fig,evd,h)</a></li><li><a href="#_sub22" class="code">function doSetTemplate(fig,evd,h)</a></li><li><a href="#_sub23" class="code">function doSetSource(fig,evd,h)</a></li><li><a href="#_sub24" class="code">function doSetHighlight(fig,evd,h)</a></li><li><a href="#_sub25" class="code">function doSetGraph(fig,evd,h)</a></li><li><a href="#_sub26" class="code">function doSetSearch(fig,evd,h)</a></li><li><a href="#_sub27" class="code">function doSetGlobal(fig,evd,h)</a></li><li><a href="#_sub28" class="code">function doSetDownload(fig,evd,h)</a></li><li><a href="#_sub29" class="code">function doSetTodo(fig,evd,h)</a></li><li><a href="#_sub30" class="code">function doSetVerbose(fig,evd,h)</a></li><li><a href="#_sub31" class="code">function doSetSaveAsMat(fig,evd,h)</a></li><li><a href="#_sub32" class="code">function doSetLoadMat(fig,evd,h)</a></li><li><a href="#_sub33" class="code">function doSetTabs(fig,evd,h)</a></li><li><a href="#_sub34" class="code">function doSetNbColumns(fig,evd,h)</a></li><li><a href="#_sub35" class="code">function text2 = shortenText(text, l)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function mwizard(file)</a>
0002 <span class="comment">%MWIZARD - M2HTML Graphical User Interface</span>
0003 <span class="comment">%  MWIZARD launches a Matlab GUI front-end to edit parameters</span>
0004 <span class="comment">%  that are then used by M2HTML to generate HTML documentation.</span>
0005 <span class="comment">%  MWIZARD(FILE) allows to specify a mat-file FILE from which</span>
0006 <span class="comment">%  default parameters are extracted and can be updated.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%  For more information, please read the M2HTML tutorial and FAQ at:</span>
0009 <span class="comment">%    &lt;http://www.artefact.tk/software/matlab/m2html/&gt;</span>
0010 <span class="comment">%</span>
0011 <span class="comment">%  See also M2HTML</span>
0012 
0013 <span class="comment">%  Copyright (C) 2003-2005 Guillaume Flandin &lt;Guillaume@artefact.tk&gt;</span>
0014 <span class="comment">%  $Revision: 0.5 $Date: 2004/05/24 20:12:17 $</span>
0015 
0016 <span class="comment">%  This program is free software; you can redistribute it and/or</span>
0017 <span class="comment">%  modify it under the terms of the GNU General Public License</span>
0018 <span class="comment">%  as published by the Free Software Foundation; either version 2</span>
0019 <span class="comment">%  of the License, or any later version.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">%  This program is distributed in the hope that it will be useful,</span>
0022 <span class="comment">%  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0023 <span class="comment">%  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0024 <span class="comment">%  GNU General Public License for more details.</span>
0025 <span class="comment">%</span>
0026 <span class="comment">%  You should have received a copy of the GNU General Public License</span>
0027 <span class="comment">%  along with this program; if not, write to the Free Software</span>
0028 <span class="comment">%  Foundation Inc, 59 Temple Pl. - Suite 330, Boston, MA 02111-1307, USA.</span>
0029 
0030 <span class="comment">%  Suggestions for improvement and fixes are always welcome, although no</span>
0031 <span class="comment">%  guarantee is made whether and when they will be implemented.</span>
0032 <span class="comment">%  Send requests to Guillaume@artefact.tk</span>
0033 
0034 error(nargchk(0,1,nargin));
0035 
0036 disp(<span class="string">'This is a beta version of mwizard.'</span>);
0037 disp(<span class="string">'Please use the online version m2html instead.'</span>);
0038 
0039 h = <a href="#_sub1" class="code" title="subfunction h = initWindow">initWindow</a>;
0040 
0041 <a href="#_sub11" class="code" title="subfunction varargout = initOptions(h)">initOptions</a>(h);
0042 
0043 <a href="#_sub2" class="code" title="subfunction buildWindow(h)">buildWindow</a>(h);
0044 
0045 setappdata(h, <span class="string">'handles'</span>, guihandles(h));
0046 setappdata(h, <span class="string">'pwd'</span>,     pwd);
0047 
0048 <span class="keyword">if</span> nargin == 0
0049     setappdata(h, <span class="string">'file'</span>, <span class="string">''</span>);
0050     setappdata(h, <span class="string">'needsave'</span>, 1);
0051 <span class="keyword">else</span>
0052     setappdata(h, <span class="string">'file'</span>, file);
0053     setappdata(h, <span class="string">'needsave'</span>, 0);
0054     opt = load(file, <span class="string">'options'</span>);
0055     setappdata(h, <span class="string">'options'</span>, opt.options);
0056     <a href="#_sub12" class="code" title="subfunction refreshOptions(h)">refreshOptions</a>(h);
0057 <span class="keyword">end</span>
0058 
0059 set(h, <span class="string">'HandleVisibility'</span>, <span class="string">'callback'</span>);
0060 
0061 <span class="comment">%===============================================================================</span>
0062 
0063 <a name="_sub1" href="#_subfunctions" class="code">function h = initWindow</a>
0064 
0065 h = figure(<span class="string">'Resize'</span>,      <span class="string">'on'</span>,<span class="keyword">...</span>
0066            <span class="string">'MenuBar'</span>,     <span class="string">'none'</span>,<span class="keyword">...</span>
0067            <span class="string">'NumberTitle'</span>, <span class="string">'off'</span>,<span class="keyword">...</span>
0068            <span class="string">'Name'</span>,        <span class="string">':: M2HTML Wizard ::'</span>,<span class="keyword">...</span>
0069            <span class="string">'Position'</span>,    [200 200 500 650],<span class="keyword">...</span>
0070            <span class="string">'Tag'</span>,         mfilename);
0071            
0072 set(h, <span class="string">'CloseRequestFcn'</span>, {@<a href="#_sub3" class="code" title="subfunction doClose(fig,evd,h)">doClose</a>,h});
0073 
0074 <span class="comment">%===============================================================================</span>
0075 
0076 <a name="_sub2" href="#_subfunctions" class="code">function buildWindow(h)</a>
0077 
0078 wincolor = struct(<span class="string">'bg'</span>,    [0.9 0.9 0.9], <span class="keyword">...</span>
0079                   <span class="string">'fg'</span>,    [0.8 0.8 0.8], <span class="keyword">...</span>
0080                   <span class="string">'title'</span>, [0.8 0.8 0.9]);
0081 
0082 set(h, <span class="string">'Color'</span>, wincolor.bg);
0083               
0084 <span class="comment">%-------------------------------------------------------------------------------</span>
0085 <span class="comment">%- Menu</span>
0086 <span class="comment">%-------------------------------------------------------------------------------</span>
0087 
0088 icons = load(fullfile(fileparts(which(mfilename)),<span class="string">'private'</span>, <span class="keyword">...</span>
0089             <span class="string">'m2htmltoolbarimages.mat'</span>));
0090 
0091 uipushtool(<span class="string">'CData'</span>,icons.newIcon,<span class="keyword">...</span>
0092     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0093     <span class="string">'Separator'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0094     <span class="string">'ToolTipString'</span>,<span class="string">'New File'</span>,<span class="keyword">...</span>
0095     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub4" class="code" title="subfunction doNewFile(fig,evd,h)">doNewFile</a>,h},<span class="keyword">...</span>
0096     <span class="string">'Tag'</span>,<span class="string">'NewTool'</span>);
0097 
0098 uipushtool(<span class="string">'CData'</span>,icons.openIcon,<span class="keyword">...</span>
0099     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0100     <span class="string">'Separator'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0101     <span class="string">'ToolTipString'</span>,<span class="string">'Open File'</span>,<span class="keyword">...</span>
0102     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub5" class="code" title="subfunction doOpenFile(fig,evd,h)">doOpenFile</a>,h},<span class="keyword">...</span>
0103     <span class="string">'Tag'</span>,<span class="string">'OpenTool'</span>);
0104 
0105 uipushtool(<span class="string">'CData'</span>,icons.saveIcon,<span class="keyword">...</span>
0106     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0107     <span class="string">'Separator'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0108     <span class="string">'ToolTipString'</span>,<span class="string">'Save File'</span>,<span class="keyword">...</span>
0109     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub6" class="code" title="subfunction status = doSaveFile(fig,evd,h)">doSaveFile</a>,h},<span class="keyword">...</span>
0110     <span class="string">'Tag'</span>,<span class="string">'SaveTool'</span>);
0111 
0112 uipushtool(<span class="string">'CData'</span>,icons.saveAsIcon,<span class="keyword">...</span>
0113     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0114     <span class="string">'Separator'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0115     <span class="string">'ToolTipString'</span>,<span class="string">'Save File As'</span>,<span class="keyword">...</span>
0116     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub7" class="code" title="subfunction status = doSaveAsFile(fig,evd,h)">doSaveAsFile</a>,h},<span class="keyword">...</span>
0117     <span class="string">'Tag'</span>,<span class="string">'SaveAsTool'</span>);
0118     
0119 uipushtool(<span class="string">'CData'</span>,icons.wheelIcon,<span class="keyword">...</span>
0120     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0121     <span class="string">'Separator'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0122     <span class="string">'ToolTipString'</span>,<span class="string">'Save and Run M2HTML'</span>,<span class="keyword">...</span>
0123     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub8" class="code" title="subfunction doRunFile(fig,evd,h)">doRunFile</a>,h},<span class="keyword">...</span>
0124     <span class="string">'Tag'</span>,<span class="string">'RunTool'</span>);
0125 
0126 uipushtool(<span class="string">'CData'</span>,icons.webIcon,<span class="keyword">...</span>
0127     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0128     <span class="string">'Separator'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0129     <span class="string">'ToolTipString'</span>,<span class="string">'Online Tutorial'</span>,<span class="keyword">...</span>
0130     <span class="string">'ClickedCallback'</span>,<span class="keyword">...</span>
0131         <span class="string">'web(''http://www.artefact.tk/software/matlab/m2html/'')'</span>,<span class="keyword">...</span>
0132     <span class="string">'Tag'</span>,<span class="string">'WebTool'</span>);
0133 
0134 uipushtool(<span class="string">'CData'</span>,icons.helpIcon,<span class="keyword">...</span>
0135     <span class="string">'enable'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0136     <span class="string">'Separator'</span>,<span class="string">'off'</span>,<span class="keyword">...</span>
0137     <span class="string">'ToolTipString'</span>,<span class="string">'Help'</span>,<span class="keyword">...</span>
0138     <span class="string">'ClickedCallback'</span>,{@<a href="#_sub10" class="code" title="subfunction doHelp(fig,evd,h)">doHelp</a>,h},<span class="keyword">...</span>
0139     <span class="string">'Tag'</span>,<span class="string">'HelpTool'</span>);
0140 
0141 <span class="comment">%-------------------------------------------------------------------------------</span>
0142 <span class="comment">%- Title</span>
0143 <span class="comment">%-------------------------------------------------------------------------------</span>
0144 
0145 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0146     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0147     <span class="string">'Position'</span>,[0.02,0.92,0.96,0.06],<span class="keyword">...</span>
0148     <span class="string">'BackgroundColor'</span>,wincolor.title);
0149 
0150 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0151     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0152     <span class="string">'String'</span>,<span class="string">'M2HTML Wizard'</span>,<span class="keyword">...</span>
0153     <span class="string">'FontSize'</span>,18,<span class="keyword">...</span>
0154     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0155     <span class="string">'Position'</span>,[0.03,0.93,0.94,0.038],<span class="keyword">...</span>
0156     <span class="string">'BackgroundColor'</span>,wincolor.title);
0157 
0158 <span class="comment">%-------------------------------------------------------------------------------</span>
0159 <span class="comment">%- Input</span>
0160 <span class="comment">%-------------------------------------------------------------------------------</span>
0161 
0162 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0163     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0164     <span class="string">'Position'</span>,[0.02,0.74,0.96,0.16],<span class="keyword">...</span>
0165     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0166     
0167 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0168     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0169     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0170     <span class="string">'Position'</span>,[0.02,0.87,0.96,0.03],<span class="keyword">...</span>
0171     <span class="string">'BackgroundColor'</span>,wincolor.title);
0172     
0173 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0174     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0175     <span class="string">'String'</span>,<span class="string">'M-Files Input'</span>,<span class="keyword">...</span>
0176     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0177     <span class="string">'Position'</span>,[0.03,0.875,0.94,0.02],<span class="keyword">...</span>
0178     <span class="string">'BackgroundColor'</span>,wincolor.title);
0179 
0180 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0181     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0182     <span class="string">'String'</span>,<span class="string">'Root directory:'</span>,<span class="keyword">...</span>
0183     <span class="string">'FontAngle'</span>,<span class="string">'oblique'</span>,<span class="keyword">...</span>
0184     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0185     <span class="string">'Position'</span>,[0.04,0.825,0.6,0.03],<span class="keyword">...</span>
0186     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0187 
0188 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0189     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0190     <span class="string">'Position'</span>,[0.21,0.83,0.74,0.03],<span class="keyword">...</span>
0191     <span class="string">'String'</span>,pwd,<span class="keyword">...</span>
0192     <span class="string">'Enable'</span>,<span class="string">'inactive'</span>,<span class="keyword">...</span>
0193     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0194     <span class="string">'Callback'</span>,<span class="string">'uigetfile;'</span>,<span class="keyword">...</span><span class="comment">%uigetdir</span>
0195     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0196     <span class="string">'Tag'</span>,<span class="string">'rootdir'</span>);
0197 
0198 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0199     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0200     <span class="string">'String'</span>,<span class="string">'Relative pathes:'</span>,<span class="keyword">...</span>
0201     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0202     <span class="string">'Position'</span>,[0.04,0.785,0.6,0.03],<span class="keyword">...</span>
0203     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0204 
0205 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0206     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0207     <span class="string">'Position'</span>,[0.21,0.79,0.74,0.03],<span class="keyword">...</span>
0208     <span class="string">'String'</span>,<span class="string">''</span>,<span class="keyword">...</span>
0209     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0210     <span class="string">'Callback'</span>,{@<a href="#_sub17" class="code" title="subfunction doSetMfiles(fig,evd,h)">doSetMfiles</a>,h},<span class="keyword">...</span>
0211     <span class="string">'CreateFcn'</span>,{@<a href="#_sub15" class="code" title="subfunction doInitMfiles(fig,evd,h)">doInitMfiles</a>,h},<span class="keyword">...</span>
0212     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0213     <span class="string">'Tag'</span>,<span class="string">'mfiles'</span>);
0214 
0215 uicontrol(<span class="string">'Style'</span>,<span class="string">'CheckBox'</span>,<span class="keyword">...</span>
0216     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0217     <span class="string">'Position'</span>,[0.04,0.749,0.42,0.032],<span class="keyword">...</span>
0218     <span class="string">'String'</span>,<span class="string">' Recursive'</span>,<span class="keyword">...</span>
0219     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0220     <span class="string">'Callback'</span>,{@<a href="#_sub18" class="code" title="subfunction doSetRecursive(fig,evd,h)">doSetRecursive</a>,h},<span class="keyword">...</span>
0221     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0222     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0223     <span class="string">'Tag'</span>,<span class="string">'recursive'</span>);
0224 
0225 <span class="comment">%-------------------------------------------------------------------------------</span>
0226 <span class="comment">%- Output</span>
0227 <span class="comment">%-------------------------------------------------------------------------------</span>
0228 
0229 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0230     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0231     <span class="string">'Position'</span>,[0.02, 0.56,0.96,0.16],<span class="keyword">...</span>
0232     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0233 
0234 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0235     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0236     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0237     <span class="string">'Position'</span>,[0.02,0.69,0.96,0.03],<span class="keyword">...</span>
0238     <span class="string">'BackgroundColor'</span>,wincolor.title);
0239     
0240 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0241     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0242     <span class="string">'String'</span>,<span class="string">'HTML Output'</span>,<span class="keyword">...</span>
0243     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0244     <span class="string">'Position'</span>,[0.03,0.695,0.94,0.02],<span class="keyword">...</span>
0245     <span class="string">'BackgroundColor'</span>,wincolor.title);
0246 
0247 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0248     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0249     <span class="string">'String'</span>,<span class="string">'Output Directory:'</span>,<span class="keyword">...</span>
0250     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0251     <span class="string">'Position'</span>,[0.04,0.645,0.6,0.03],<span class="keyword">...</span>
0252     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0253 
0254 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0255     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0256     <span class="string">'Position'</span>,[0.21,0.65,0.74,0.03],<span class="keyword">...</span>
0257     <span class="string">'String'</span>,<span class="string">''</span>,<span class="keyword">...</span>
0258     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0259     <span class="string">'Callback'</span>,{@<a href="#_sub19" class="code" title="subfunction doSetOutputDir(fig,evd,h)">doSetOutputDir</a>,h},<span class="keyword">...</span>
0260     <span class="string">'CreateFcn'</span>,{@<a href="#_sub13" class="code" title="subfunction doInitHTMLDir(fig,evd,h)">doInitHTMLDir</a>,h},<span class="keyword">...</span>
0261     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0262     <span class="string">'Tag'</span>,<span class="string">'htmldir'</span>);
0263 
0264 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0265     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0266     <span class="string">'String'</span>,<span class="string">'HTML Index:'</span>,<span class="keyword">...</span>
0267     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0268     <span class="string">'Position'</span>,[0.04,0.605,0.6,0.03],<span class="keyword">...</span>
0269     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0270 
0271 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0272     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0273     <span class="string">'Position'</span>,[0.21,0.61,0.25,0.03],<span class="keyword">...</span>
0274     <span class="string">'String'</span>,<span class="string">'index'</span>,<span class="keyword">...</span>
0275     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0276     <span class="string">'Callback'</span>,{@<a href="#_sub20" class="code" title="subfunction doSetIndex(fig,evd,h)">doSetIndex</a>,h},<span class="keyword">...</span>
0277     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0278     <span class="string">'Tag'</span>,<span class="string">'index'</span>);
0279 
0280 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0281     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0282     <span class="string">'String'</span>,<span class="string">'Extension:'</span>,<span class="keyword">...</span>
0283     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0284     <span class="string">'Position'</span>,[0.53,0.605,0.3,0.03],<span class="keyword">...</span>
0285     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0286 
0287 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0288     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0289     <span class="string">'Position'</span>,[0.70,0.61,0.25,0.03],<span class="keyword">...</span>
0290     <span class="string">'String'</span>,<span class="string">'html'</span>,<span class="keyword">...</span>
0291     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0292     <span class="string">'Callback'</span>,{@<a href="#_sub21" class="code" title="subfunction doSetExtension(fig,evd,h)">doSetExtension</a>,h},<span class="keyword">...</span>
0293     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0294     <span class="string">'Tag'</span>,<span class="string">'extension'</span>);
0295 
0296 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0297     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0298     <span class="string">'String'</span>,<span class="string">'Template:'</span>,<span class="keyword">...</span>
0299     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0300     <span class="string">'Position'</span>,[0.04,0.565,0.3,0.03],<span class="keyword">...</span>
0301     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0302 
0303 uicontrol(<span class="string">'Style'</span>,<span class="string">'popupmenu'</span>,<span class="keyword">...</span>
0304     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0305     <span class="string">'Position'</span>,[0.21,0.57,0.25,0.03],<span class="keyword">...</span>
0306     <span class="string">'String'</span>,<span class="string">''</span>,<span class="keyword">...</span>
0307     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0308     <span class="string">'Callback'</span>,{@<a href="#_sub22" class="code" title="subfunction doSetTemplate(fig,evd,h)">doSetTemplate</a>,h},<span class="keyword">...</span>
0309     <span class="string">'CreateFcn'</span>,{@<a href="#_sub14" class="code" title="subfunction doInitTpl(fig,evd,h)">doInitTpl</a>,h},<span class="keyword">...</span>
0310     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0311     <span class="string">'Tag'</span>,<span class="string">'template'</span>);
0312 
0313 <span class="comment">%-------------------------------------------------------------------------------</span>
0314 <span class="comment">%- Other options</span>
0315 <span class="comment">%-------------------------------------------------------------------------------</span>
0316 
0317 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0318     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0319     <span class="string">'Position'</span>,[0.02,0.24,0.96,0.30],<span class="keyword">...</span>
0320     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0321 
0322 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0323     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0324     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0325     <span class="string">'Position'</span>,[0.02,0.51,0.96,0.03],<span class="keyword">...</span>
0326     <span class="string">'BackgroundColor'</span>,wincolor.title);
0327     
0328 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0329     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0330     <span class="string">'String'</span>,<span class="string">'Other Options'</span>,<span class="keyword">...</span>
0331     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0332     <span class="string">'Position'</span>,[0.03,0.515,0.94,0.02],<span class="keyword">...</span>
0333     <span class="string">'BackgroundColor'</span>,wincolor.title);
0334 
0335 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0336     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0337     <span class="string">'Position'</span>,[0.04,0.464,0.42,0.032],<span class="keyword">...</span>
0338     <span class="string">'String'</span>,<span class="string">' Include Source Code'</span>,<span class="keyword">...</span>
0339     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0340     <span class="string">'Callback'</span>,{@<a href="#_sub23" class="code" title="subfunction doSetSource(fig,evd,h)">doSetSource</a>,h},<span class="keyword">...</span>
0341     <span class="string">'Value'</span>,1,<span class="keyword">...</span>
0342     <span class="string">'TooltipString'</span>,<span class="string">'Include Source Code of each M-file'</span>,<span class="keyword">...</span>
0343     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0344     <span class="string">'Tag'</span>,<span class="string">'source'</span>);
0345 
0346 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0347     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0348     <span class="string">'Position'</span>,[0.53,0.464,0.42,0.032],<span class="keyword">...</span>
0349     <span class="string">'String'</span>,<span class="string">' Syntax Highlighting'</span>,<span class="keyword">...</span>
0350     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0351     <span class="string">'Callback'</span>,{@<a href="#_sub24" class="code" title="subfunction doSetHighlight(fig,evd,h)">doSetHighlight</a>,h},<span class="keyword">...</span>
0352     <span class="string">'Value'</span>,1,<span class="keyword">...</span>
0353     <span class="string">'TooltipString'</span>,<span class="string">'Source Code Syntax Highlighting'</span>,<span class="keyword">...</span>
0354     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0355     <span class="string">'Tag'</span>,<span class="string">'highlight'</span>);
0356 
0357 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0358     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0359     <span class="string">'Position'</span>,[0.04,0.42,0.42,0.032],<span class="keyword">...</span>
0360     <span class="string">'String'</span>,<span class="string">' Create Dependency Graphs'</span>,<span class="keyword">...</span>
0361     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0362     <span class="string">'Callback'</span>,{@<a href="#_sub25" class="code" title="subfunction doSetGraph(fig,evd,h)">doSetGraph</a>,h},<span class="keyword">...</span>
0363     <span class="string">'CreateFcn'</span>,{@<a href="#_sub16" class="code" title="subfunction doInitGraphs(fig,evd,h)">doInitGraphs</a>,h},<span class="keyword">...</span>
0364     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0365     <span class="string">'TooltipString'</span>,<span class="string">'Compute a Dependency Graph using GraphViz'</span>,<span class="keyword">...</span>
0366     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0367     <span class="string">'Tag'</span>,<span class="string">'graph'</span>);
0368 
0369 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0370     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0371     <span class="string">'Position'</span>,[0.53,0.42,0.42,0.032],<span class="keyword">...</span>
0372     <span class="string">'String'</span>,<span class="string">' PHP Search Engine'</span>,<span class="keyword">...</span>
0373     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0374     <span class="string">'Callback'</span>,{@<a href="#_sub26" class="code" title="subfunction doSetSearch(fig,evd,h)">doSetSearch</a>,h},<span class="keyword">...</span>
0375     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0376     <span class="string">'TooltipString'</span>,<span class="string">'Create an Index for a PHP Search Engine'</span>,<span class="keyword">...</span>
0377     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0378     <span class="string">'Tag'</span>,<span class="string">'search'</span>);
0379 
0380 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0381     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0382     <span class="string">'Position'</span>,[0.04,0.378,0.42,0.032],<span class="keyword">...</span>
0383     <span class="string">'String'</span>,<span class="string">' Global Hyperlinks'</span>,<span class="keyword">...</span>
0384     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0385     <span class="string">'Callback'</span>,{@<a href="#_sub27" class="code" title="subfunction doSetGlobal(fig,evd,h)">doSetGlobal</a>,1},<span class="keyword">...</span>
0386     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0387     <span class="string">'TooltipString'</span>,<span class="string">'Hypertext links among separate Matlab Directories'</span>,<span class="keyword">...</span>
0388     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0389     <span class="string">'Tag'</span>,<span class="string">'globalhypertext'</span>);
0390 
0391 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0392     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0393     <span class="string">'Position'</span>,[0.53,0.378,0.42,0.032],<span class="keyword">...</span>
0394     <span class="string">'String'</span>,<span class="string">' Downloadable M-files'</span>,<span class="keyword">...</span>
0395     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0396     <span class="string">'Callback'</span>,{@<a href="#_sub28" class="code" title="subfunction doSetDownload(fig,evd,h)">doSetDownload</a>,h},<span class="keyword">...</span>
0397     <span class="string">'TooltipString'</span>,<span class="string">'Add a link to download each M-file separately'</span>,<span class="keyword">...</span>
0398     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0399     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0400     <span class="string">'Tag'</span>,<span class="string">'download'</span>);
0401 
0402 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0403     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0404     <span class="string">'Position'</span>,[0.04,0.336,0.42,0.032],<span class="keyword">...</span>
0405     <span class="string">'String'</span>,<span class="string">' To Do List'</span>,<span class="keyword">...</span>
0406     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0407     <span class="string">'Callback'</span>,{@<a href="#_sub29" class="code" title="subfunction doSetTodo(fig,evd,h)">doSetTodo</a>,h},<span class="keyword">...</span>
0408     <span class="string">'TooltipString'</span>,[<span class="string">'Create a TODO list in each directory summarizing'</span><span class="keyword">...</span>
0409     <span class="string">' all the ''% TODO %'' lines found in Matlab code'</span>],<span class="keyword">...</span>
0410     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0411     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0412     <span class="string">'Tag'</span>,<span class="string">'todo'</span>);
0413 
0414 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0415     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0416     <span class="string">'Position'</span>,[0.53,0.336,0.42,0.032],<span class="keyword">...</span>
0417     <span class="string">'String'</span>,<span class="string">' Verbose Mode'</span>,<span class="keyword">...</span>
0418     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0419     <span class="string">'Callback'</span>,{@<a href="#_sub30" class="code" title="subfunction doSetVerbose(fig,evd,h)">doSetVerbose</a>,h},<span class="keyword">...</span>
0420     <span class="string">'TooltipString'</span>,<span class="string">'Verbose mode'</span>,<span class="keyword">...</span>
0421     <span class="string">'Value'</span>,1,<span class="keyword">...</span>
0422     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0423     <span class="string">'Tag'</span>,<span class="string">'verbose'</span>);
0424 
0425 uicontrol(<span class="string">'Style'</span>,<span class="string">'checkbox'</span>,<span class="keyword">...</span>
0426     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0427     <span class="string">'Position'</span>,[0.04,0.294,0.42,0.032],<span class="keyword">...</span>
0428     <span class="string">'String'</span>,<span class="string">' Save M-files Parsing'</span>,<span class="keyword">...</span>
0429     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0430     <span class="string">'Callback'</span>,{@<a href="#_sub31" class="code" title="subfunction doSetSaveAsMat(fig,evd,h)">doSetSaveAsMat</a>,h},<span class="keyword">...</span>
0431     <span class="string">'TooltipString'</span>,[<span class="string">'Save current state after M-files parsing in '</span><span class="keyword">...</span>
0432     <span class="string">'''m2html.mat'' in the Output directory'</span>],<span class="keyword">...</span>
0433     <span class="string">'Value'</span>,0,<span class="keyword">...</span>
0434     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0435     <span class="string">'Tag'</span>,<span class="string">'save'</span>);
0436 
0437 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0438     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0439     <span class="string">'String'</span>,<span class="string">'Load File:'</span>,<span class="keyword">...</span>
0440     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0441     <span class="string">'Position'</span>,[0.53,0.289,0.3,0.03],<span class="keyword">...</span>
0442     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0443 
0444 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0445     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0446     <span class="string">'Position'</span>,[0.70,0.294,0.25,0.03],<span class="keyword">...</span>
0447     <span class="string">'String'</span>,<span class="string">''</span>,<span class="keyword">...</span>
0448     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0449     <span class="string">'Callback'</span>,{@<a href="#_sub32" class="code" title="subfunction doSetLoadMat(fig,evd,h)">doSetLoadMat</a>,h},<span class="keyword">...</span>
0450     <span class="string">'TooltipString'</span>,[<span class="string">'Load a previously saved MAT file '</span><span class="keyword">...</span>
0451     <span class="string">'to generate HTML files once again'</span>],<span class="keyword">...</span>
0452     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0453     <span class="string">'Tag'</span>,<span class="string">'load'</span>);
0454 
0455 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0456     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0457     <span class="string">'String'</span>,<span class="string">'Tabs Length:'</span>,<span class="keyword">...</span>
0458     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0459     <span class="string">'Position'</span>,[0.04,0.247,0.3,0.03],<span class="keyword">...</span>
0460     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0461 
0462 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0463     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0464     <span class="string">'Position'</span>,[0.21,0.252,0.25,0.03],<span class="keyword">...</span>
0465     <span class="string">'String'</span>,<span class="string">'4'</span>,<span class="keyword">...</span>
0466     <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
0467     <span class="string">'Callback'</span>,{@<a href="#_sub33" class="code" title="subfunction doSetTabs(fig,evd,h)">doSetTabs</a>,h},<span class="keyword">...</span>
0468     <span class="string">'TooltipString'</span>,[<span class="string">'Replace horizontal tabs in source code '</span><span class="keyword">...</span>
0469     <span class="string">'by N white space characters'</span>],<span class="keyword">...</span>
0470     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0471     <span class="string">'Tag'</span>,<span class="string">'tabs'</span>);
0472 
0473 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0474     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0475     <span class="string">'String'</span>,<span class="string">'Nb Columns:'</span>,<span class="keyword">...</span>
0476     <span class="string">'FontAngle'</span>,<span class="string">'oblique'</span>,<span class="keyword">...</span>
0477     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0478     <span class="string">'Position'</span>,[0.53,0.247,0.3,0.03],<span class="keyword">...</span>
0479     <span class="string">'BackgroundColor'</span>,wincolor.fg);
0480 
0481 uicontrol(<span class="string">'Style'</span>,<span class="string">'edit'</span>,<span class="keyword">...</span>
0482     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0483     <span class="string">'Position'</span>,[0.70,0.252,0.25,0.03],<span class="keyword">...</span>
0484     <span class="string">'String'</span>,<span class="string">'4'</span>,<span class="keyword">...</span>
0485     <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
0486     <span class="string">'Callback'</span>,{@<a href="#_sub34" class="code" title="subfunction doSetNbColumns(fig,evd,h)">doSetNbColumns</a>,h},<span class="keyword">...</span>
0487     <span class="string">'TooltipString'</span>,<span class="string">'Number of columns for M-files output - not available'</span>,<span class="keyword">...</span>
0488     <span class="string">'Enable'</span>,<span class="string">'inactive'</span>,<span class="keyword">...</span>
0489     <span class="string">'BackgroundColor'</span>,wincolor.bg,<span class="keyword">...</span>
0490     <span class="string">'Tag'</span>,<span class="string">'column'</span>);
0491 
0492 
0493 <span class="comment">%-------------------------------------------------------------------------------</span>
0494 <span class="comment">%- Space available</span>
0495 <span class="comment">%-------------------------------------------------------------------------------</span>
0496 
0497 <span class="comment">% uicontrol('Style','Frame',...</span>
0498 <span class="comment">%     'Units','Normalized',...</span>
0499 <span class="comment">%     'Position',[0.02,0.07,0.96,0.14],...</span>
0500 <span class="comment">%     'BackgroundColor',wincolor.fg);</span>
0501 
0502 <span class="comment">% simulate a frame using an axes</span>
0503 <span class="comment">% http://www.mathworks.com/support/solutions/data/1-15P9E.html</span>
0504 axes(<span class="string">'Color'</span>,wincolor.fg,<span class="keyword">...</span>
0505     <span class="string">'XTick'</span>,[],<span class="string">'YTick'</span>,[],<span class="keyword">...</span>
0506     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0507     <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0508     <span class="string">'Position'</span>,[0.02,0.07,0.9585,0.14]);
0509 
0510 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0511     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0512     <span class="string">'HorizontalAlignment'</span>,<span class="string">'center'</span>,<span class="keyword">...</span>
0513     <span class="string">'Position'</span>,[0.02,0.19,0.96,0.03],<span class="keyword">...</span>
0514     <span class="string">'BackgroundColor'</span>,wincolor.title);
0515 
0516 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0517     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0518     <span class="string">'String'</span>,<span class="string">'M2HTML status'</span>,<span class="keyword">...</span>
0519     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
0520     <span class="string">'Position'</span>,[0.03,0.195,0.94,0.02],<span class="keyword">...</span>
0521     <span class="string">'BackgroundColor'</span>,wincolor.title);
0522 
0523 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0524     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0525     <span class="string">'String'</span>,<span class="string">'Click on the wheel in the toolbar to launch M2HTML...'</span>,<span class="keyword">...</span>
0526     <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span><span class="comment"> % center</span>
0527     <span class="string">'Position'</span>,[0.12,0.135,0.76,0.02],<span class="keyword">...</span>
0528     <span class="string">'Visible'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0529     <span class="string">'BackgroundColor'</span>,wincolor.fg,<span class="keyword">...</span>
0530     <span class="string">'Tag'</span>,<span class="string">'textmisc'</span>);
0531 
0532 axes(<span class="string">'XLim'</span>,[0 100],<span class="keyword">...</span>
0533     <span class="string">'YLim'</span>,[0 1],<span class="keyword">...</span>
0534     <span class="string">'Box'</span>,<span class="string">'on'</span>, <span class="keyword">...</span>
0535     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0536     <span class="string">'Position'</span>,[0.07,0.09,0.86,0.03],<span class="keyword">...</span>
0537     <span class="string">'XTickMode'</span>,<span class="string">'manual'</span>,<span class="keyword">...</span>
0538     <span class="string">'YTickMode'</span>,<span class="string">'manual'</span>,<span class="keyword">...</span>
0539     <span class="string">'layer'</span>,<span class="string">'top'</span>,<span class="keyword">...</span>
0540     <span class="string">'XTick'</span>,[],<span class="keyword">...</span>
0541     <span class="string">'YTick'</span>,[],<span class="keyword">...</span>
0542     <span class="string">'XTickLabelMode'</span>,<span class="string">'manual'</span>,<span class="keyword">...</span>
0543     <span class="string">'XTickLabel'</span>,[],<span class="keyword">...</span>
0544     <span class="string">'YTickLabelMode'</span>,<span class="string">'manual'</span>,<span class="keyword">...</span>
0545     <span class="string">'Visible'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0546     <span class="string">'YTickLabel'</span>,[],<span class="keyword">...</span>
0547     <span class="string">'Color'</span>,wincolor.bg);
0548 
0549 x = 0; <span class="comment">% between 0 and 100</span>
0550 xpatch = [0 x x 0];
0551 ypatch = [0 0 1 1];
0552   
0553 p = patch(xpatch,ypatch,<span class="string">'r'</span>,<span class="keyword">...</span>
0554     <span class="string">'EdgeColor'</span>,<span class="string">'r'</span>,<span class="keyword">...</span>
0555     <span class="string">'Visible'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0556     <span class="string">'EraseMode'</span>,<span class="string">'none'</span>,<span class="keyword">...</span>
0557     <span class="string">'Tag'</span>,<span class="string">'waitbarmisc'</span>);
0558   
0559 l = line([100 0 0 100 100], [0 0 1 1 0], <span class="keyword">...</span>
0560     <span class="string">'EraseMode'</span>,<span class="string">'none'</span>, <span class="keyword">...</span>
0561     <span class="string">'Visible'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
0562     <span class="string">'Color'</span>,get(gca,<span class="string">'XColor'</span>));
0563   
0564 <span class="comment">% for i=10:5:100</span>
0565 <span class="comment">%     set(p,'Xdata',[0 i i 0]); pause(0.02);</span>
0566 <span class="comment">% end</span>
0567 <span class="comment">% set(p,'EraseMode','normal');</span>
0568 <span class="comment">% set(p,'Xdata',[0 0 0 0]);</span>
0569 <span class="comment">% set(p,'EraseMode','none');</span>
0570 
0571 <span class="comment">%-------------------------------------------------------------------------------</span>
0572 <span class="comment">%- Footnote</span>
0573 <span class="comment">%-------------------------------------------------------------------------------</span>
0574 
0575 uicontrol(<span class="string">'Style'</span>,<span class="string">'Frame'</span>,<span class="keyword">...</span>
0576     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0577     <span class="string">'Position'</span>,[0.02,0.02,0.96,0.03],<span class="keyword">...</span>
0578     <span class="string">'BackgroundColor'</span>,[0.8 0.8 0.9]);
0579 
0580 uicontrol(<span class="string">'Style'</span>,<span class="string">'Text'</span>,<span class="keyword">...</span>
0581     <span class="string">'Units'</span>,<span class="string">'Normalized'</span>,<span class="keyword">...</span>
0582     <span class="string">'String'</span>,[<span class="string">'M2HTML  2003-2005 Guillaume Flandin &lt;Guillaume@artefact.tk&gt;'</span>],<span class="keyword">...</span>
0583     <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
0584     <span class="string">'Position'</span>,[0.03,0.025,0.94,0.02],<span class="keyword">...</span>
0585     <span class="string">'BackgroundColor'</span>,[0.8 0.8 0.9]);
0586 
0587 <span class="comment">%===============================================================================</span>
0588 
0589 <a name="_sub3" href="#_subfunctions" class="code">function doClose(fig,evd,h)</a>
0590     status = <a href="#_sub9" class="code" title="subfunction status = doCheckSave(h)">doCheckSave</a>(h);
0591     <span class="keyword">if</span> status
0592         delete(h);
0593     <span class="keyword">end</span>
0594     
0595 <a name="_sub4" href="#_subfunctions" class="code">function doNewFile(fig,evd,h)</a>
0596     status = <a href="#_sub9" class="code" title="subfunction status = doCheckSave(h)">doCheckSave</a>(h);
0597     <span class="keyword">if</span> status
0598         <a href="#_sub11" class="code" title="subfunction varargout = initOptions(h)">initOptions</a>(h);
0599         setappdata(h, <span class="string">'needsave'</span>, 1);
0600         <span class="comment">% refresh options in GUI...</span>
0601         <a href="#_sub12" class="code" title="subfunction refreshOptions(h)">refreshOptions</a>(h);
0602     <span class="keyword">end</span>
0603 
0604 <a name="_sub5" href="#_subfunctions" class="code">function doOpenFile(fig,evd,h)</a>
0605     status = <a href="#_sub9" class="code" title="subfunction status = doCheckSave(h)">doCheckSave</a>(h);
0606     <span class="keyword">if</span> status
0607         [filename, pathname] = uigetfile(<span class="string">'*.mat'</span>,<span class="string">'Open File'</span>);
0608         <span class="keyword">if</span> ~(isequal(filename,0)|isequal(pathname,0))
0609             opt = load(fullfile(pathname,filename),<span class="string">'options'</span>);
0610             setappdata(h,<span class="string">'options'</span>,opt.options);
0611             setappdata(h,<span class="string">'file'</span>,fullfile(pathname,filename));
0612         <span class="keyword">end</span>
0613     <span class="keyword">end</span>
0614     <span class="comment">% refresh options in GUI...</span>
0615     <a href="#_sub12" class="code" title="subfunction refreshOptions(h)">refreshOptions</a>(h);
0616 
0617 <a name="_sub6" href="#_subfunctions" class="code">function status = doSaveFile(fig,evd,h)</a>
0618     file = getappdata(h,<span class="string">'file'</span>);
0619     status = 1;
0620     <span class="keyword">if</span> isempty(file)
0621         status = <a href="#_sub7" class="code" title="subfunction status = doSaveAsFile(fig,evd,h)">doSaveAsFile</a>(fig,evd,h);
0622     <span class="keyword">else</span>
0623         options = getappdata(h,<span class="string">'options'</span>);
0624         save(file, <span class="string">'options'</span>);
0625     <span class="keyword">end</span>
0626     setappdata(h,<span class="string">'needsave'</span>,0);
0627 
0628 <a name="_sub7" href="#_subfunctions" class="code">function status = doSaveAsFile(fig,evd,h)</a>
0629     [filename, pathname] = uiputfile(<span class="string">'matlab.mat'</span>, <span class="string">'Save File as'</span>);
0630     <span class="keyword">if</span> ~(isequal(filename,0)|isequal(pathname,0))
0631         setappdata(h,<span class="string">'file'</span>,fullfile(pathname,filename));
0632         status = <a href="#_sub6" class="code" title="subfunction status = doSaveFile(fig,evd,h)">doSaveFile</a>(fig,evd,h);
0633     <span class="keyword">else</span>
0634         status = 0;
0635     <span class="keyword">end</span>
0636 
0637 <a name="_sub8" href="#_subfunctions" class="code">function doRunFile(fig,evd,h)</a>
0638     status = <a href="#_sub6" class="code" title="subfunction status = doSaveFile(fig,evd,h)">doSaveFile</a>(fig,evd,h);
0639     <span class="keyword">if</span> status
0640         opt = getappdata(h,<span class="string">'options'</span>);
0641         file = getappdata(h,<span class="string">'file'</span>);
0642         r = {<span class="string">'off'</span> <span class="string">'on'</span>};
0643         <span class="comment">% opt could be directly given to m2html (no need for file saving)</span>
0644         <span class="comment">% just need to convert on/off using opt.param = r{opt.param+1}</span>
0645         <a href="m2html.html" class="code" title="function m2html(varargin)">m2html</a>(<span class="string">'load'</span>,file,<span class="string">'recursive'</span>,r{opt.recursive+1});
0646         <span class="comment">% 'recursive' is specified to force m2html to parse M-files</span>
0647     <span class="keyword">end</span>
0648     
0649 <a name="_sub9" href="#_subfunctions" class="code">function status = doCheckSave(h)</a>
0650     file = getappdata(h,<span class="string">'file'</span>);
0651     <span class="keyword">if</span> isempty(file), file = <span class="string">'Untitled'</span>; <span class="keyword">end</span>
0652     needsave = getappdata(h,<span class="string">'needsave'</span>);
0653     status = 1;
0654     <span class="keyword">if</span> needsave
0655         button = questdlg(sprintf(<span class="string">'Save changes to %s?'</span>,file),<span class="keyword">...</span>
0656             <span class="string">'Mwizard'</span>,<span class="string">'Yes'</span>,<span class="string">'No'</span>,<span class="string">'Cancel'</span>,<span class="string">'Yes'</span>);
0657         <span class="keyword">if</span> strcmp(button,<span class="string">'Yes'</span>)
0658             status = <a href="#_sub6" class="code" title="subfunction status = doSaveFile(fig,evd,h)">doSaveFile</a>([],[],h);
0659         <span class="keyword">elseif</span> strcmp(button,<span class="string">'Cancel'</span>)
0660             status = 0;
0661         <span class="keyword">end</span>
0662     <span class="keyword">end</span>
0663 
0664 <a name="_sub10" href="#_subfunctions" class="code">function doHelp(fig,evd,h)</a>
0665     helpdlg(sprintf([<span class="string">'M2HTML by Guillaume Flandin\n'</span><span class="keyword">...</span>
0666         <span class="string">'Copyright  2003-2005\nGuillaume@artefact.tk\n'</span><span class="keyword">...</span>
0667         <span class="string">'&lt;http://www.artefact.tk/&gt;'</span>]),<span class="string">'M2HTML Wizard'</span>);
0668 
0669 <span class="comment">%===============================================================================</span>
0670 
0671 <span class="comment">%-------------------------------------------------------------------------------</span>
0672 <span class="comment">%- Default parameters</span>
0673 <span class="comment">%-------------------------------------------------------------------------------</span>
0674 
0675 <a name="_sub11" href="#_subfunctions" class="code">function varargout = initOptions(h)</a>
0676     options = struct(<span class="string">'verbose'</span>, 1,<span class="keyword">...</span>
0677         <span class="string">'mFiles'</span>, {{<span class="string">''</span>}},<span class="keyword">...</span>
0678         <span class="string">'htmlDir'</span>, <span class="string">'doc'</span>,<span class="keyword">...</span>
0679         <span class="string">'recursive'</span>, 0,<span class="keyword">...</span>
0680         <span class="string">'source'</span>, 1,<span class="keyword">...</span>
0681         <span class="string">'download'</span>,0,<span class="keyword">...</span>
0682         <span class="string">'syntaxHighlighting'</span>, 1,<span class="keyword">...</span>
0683         <span class="string">'tabs'</span>, 4,<span class="keyword">...</span>
0684         <span class="string">'globalHypertextLinks'</span>, 0,<span class="keyword">...</span>
0685         <span class="string">'graph'</span>, 0,<span class="keyword">...</span>
0686         <span class="string">'todo'</span>, 0,<span class="keyword">...</span>
0687         <span class="string">'load'</span>, 0,<span class="keyword">...</span>
0688         <span class="string">'save'</span>, 0,<span class="keyword">...</span>
0689         <span class="string">'search'</span>, 0,<span class="keyword">...</span>
0690         <span class="string">'helptocxml'</span>, 0,<span class="keyword">...</span>
0691         <span class="string">'indexFile'</span>, <span class="string">'index'</span>,<span class="keyword">...</span>
0692         <span class="string">'extension'</span>, <span class="string">'.html'</span>,<span class="keyword">...</span>
0693         <span class="string">'template'</span>, <span class="string">'blue'</span>,<span class="keyword">...</span>
0694         <span class="string">'rootdir'</span>, pwd,<span class="keyword">...</span>
0695         <span class="string">'ignoredDir'</span>, {{<span class="string">'.svn'</span> <span class="string">'cvs'</span>}}, <span class="keyword">...</span>
0696         <span class="string">'language'</span>,<span class="string">'english'</span>);
0697     
0698     <span class="keyword">if</span> nargin == 1,
0699         setappdata(h,<span class="string">'options'</span>,options);
0700     <span class="keyword">else</span>
0701         varargout{1} = options;    
0702     <span class="keyword">end</span>
0703 
0704 <a name="_sub12" href="#_subfunctions" class="code">function refreshOptions(h)</a>
0705     opt = getappdata(h,<span class="string">'options'</span>);
0706     handles = getappdata(h,<span class="string">'handles'</span>);
0707     
0708     <a href="#_sub14" class="code" title="subfunction doInitTpl(fig,evd,h)">doInitTpl</a>(handles.template,    0, h);
0709     <a href="#_sub15" class="code" title="subfunction doInitMfiles(fig,evd,h)">doInitMfiles</a>(handles.mfiles,   0, h);
0710     <a href="#_sub13" class="code" title="subfunction doInitHTMLDir(fig,evd,h)">doInitHTMLDir</a>(handles.htmldir, 0, h)
0711     
0712     set(handles.recursive,       <span class="string">'Value'</span>,  opt.recursive);
0713     set(handles.graph,           <span class="string">'Value'</span>,  opt.graph); <span class="comment">%doInitGraphs(handles.graph,0,h);</span>
0714     set(handles.save,            <span class="string">'Value'</span>,  opt.save);
0715     set(handles.verbose,         <span class="string">'Value'</span>,  opt.verbose);
0716     set(handles.todo,            <span class="string">'Value'</span>,  opt.todo);
0717     set(handles.download,        <span class="string">'Value'</span>,  opt.download);
0718     set(handles.search,          <span class="string">'Value'</span>,  opt.search);
0719     set(handles.highlight,       <span class="string">'Value'</span>,  opt.syntaxHighlighting);
0720     set(handles.source,          <span class="string">'Value'</span>,  opt.source);
0721     set(handles.globalhypertext, <span class="string">'Value'</span>,  opt.globalHypertextLinks);
0722     
0723     set(handles.index,           <span class="string">'String'</span>, opt.indexFile);
0724     set(handles.extension,       <span class="string">'String'</span>, opt.extension(2:end)); <span class="comment">%remove the '.'</span>
0725     set(handles.tabs,            <span class="string">'String'</span>, num2str(opt.tabs));
0726     <span class="keyword">if</span> ~strcmp(opt.rootdir, pwd)
0727         warning(<span class="string">'[M2HTML] You should ''cd %s'' before...'</span>,opt.rootdir);    
0728     <span class="keyword">end</span>
0729     set(handles.rootdir,         <span class="string">'String'</span>, opt.rootdir); <span class="comment">% need to 'cd' if different...</span>
0730     set(handles.column,          <span class="string">'String'</span>, num2str(4)); <span class="comment">%- not saved... default here</span>
0731     <span class="keyword">if</span> ischar(opt.load)
0732         set(handles.load,        <span class="string">'String'</span>, opt.load);
0733     <span class="keyword">else</span>
0734         set(handles.load,        <span class="string">'String'</span>, <span class="string">''</span>);
0735     <span class="keyword">end</span>
0736     
0737     set(handles.textmisc,        <span class="string">'String'</span>, <span class="keyword">...</span>
0738         <span class="string">'Click on the wheel in the toolbar to launch M2HTML...'</span>); <span class="comment">%- not saved... default here</span>
0739     set(handles.waitbarmisc,     <span class="string">'EraseMode'</span>,<span class="string">'normal'</span>);
0740     set(handles.waitbarmisc,     <span class="string">'Xdata'</span>,[0 0 0 0]);
0741     set(handles.waitbarmisc,     <span class="string">'EraseMode'</span>,<span class="string">'none'</span>);
0742 
0743 
0744 <span class="comment">%-------------------------------------------------------------------------------</span>
0745 <span class="comment">%- CreateFcn Callbacks</span>
0746 <span class="comment">%-------------------------------------------------------------------------------</span>
0747 
0748 <a name="_sub13" href="#_subfunctions" class="code">function doInitHTMLDir(fig,evd,h)</a>
0749     <span class="comment">%- problems when htmlDir is still a full path</span>
0750     opt = getappdata(h,<span class="string">'options'</span>);
0751     <span class="keyword">if</span> isempty(strmatch(lower(pwd),lower(opt.htmlDir)))
0752         opt.htmlDir = fullfile(pwd, opt.htmlDir);
0753     <span class="keyword">end</span>
0754     set(fig,<span class="string">'String'</span>,opt.htmlDir);
0755     setappdata(h,<span class="string">'options'</span>,opt);
0756 
0757 <a name="_sub14" href="#_subfunctions" class="code">function doInitTpl(fig,evd,h)</a>
0758     <span class="comment">%- problems when templates are still in full format</span>
0759     opt = getappdata(h,<span class="string">'options'</span>);
0760     d = dir(fullfile(fileparts(which(mfilename)),<span class="string">'templates'</span>));
0761     d = {d([d.isdir]).name};
0762     d = {d{~ismember(d,{<span class="string">'.'</span> <span class="string">'..'</span>})}};
0763     <span class="keyword">if</span> ~isempty(d)
0764         tpl = sprintf(<span class="string">'%s|'</span>,d{:});
0765         set(fig,<span class="string">'String'</span>,tpl(1:end-1));
0766         i = strmatch(opt.template,d,<span class="string">'exact'</span>);
0767         <span class="keyword">if</span> ~isempty(i)
0768             set(fig,<span class="string">'Value'</span>,i(1));
0769         <span class="keyword">else</span>
0770             <span class="comment">%- where is the default template ?</span>
0771             warning(<span class="string">'[M2HTML] Default template ''%s'' not found.'</span>,opt.template);
0772             set(fig,<span class="string">'Value'</span>,1);
0773             opt.template = d{1};
0774             setappdata(h,<span class="string">'options'</span>,opt);
0775             warning(<span class="string">'[M2HTML] Using template ''%s'' instead.'</span>,opt.template);
0776         <span class="keyword">end</span>
0777     <span class="keyword">else</span>
0778         error(<span class="string">'[M2HTML] No template found.'</span>);
0779     <span class="keyword">end</span>
0780 
0781  <a name="_sub15" href="#_subfunctions" class="code">function doInitMfiles(fig,evd,h)</a>
0782     opt = getappdata(h,<span class="string">'options'</span>);
0783     <span class="keyword">if</span> ~isempty(opt.mFiles{1})
0784         s = sprintf(<span class="string">'''%s'', '</span>,opt.mFiles{:}); s = s(1:end-2);
0785         set(fig,<span class="string">'String'</span>,[<span class="string">'{'</span> s <span class="string">'}'</span>]);
0786         <span class="keyword">return</span>;
0787     <span class="keyword">end</span>
0788     d = dir(pwd); d = {d([d.isdir]).name};
0789     d = {d{~ismember(d,{<span class="string">'.'</span> <span class="string">'..'</span>})}};
0790     <span class="keyword">if</span> length(d) == 0
0791         warning(<span class="string">'[M2HTML] No subsequent directory found. Check your cwd.'</span>);
0792         set(fig,<span class="string">'String'</span>,<span class="string">''</span>); <span class="comment">%- maybe open a uigetdir ?</span>
0793         opt.mFiles = {<span class="string">''</span>};
0794     <span class="keyword">elseif</span> length(d) == 1
0795         set(fig,<span class="string">'String'</span>,d{1});
0796         opt.mFiles = d;
0797     <span class="keyword">else</span>
0798         s = sprintf(<span class="string">'''%s'', '</span>,d{:}); s = s(1:end-2);
0799         set(fig,<span class="string">'String'</span>,[<span class="string">'{'</span> s <span class="string">'}'</span>]);
0800         opt.mFiles = d;
0801     <span class="keyword">end</span>
0802     setappdata(h,<span class="string">'options'</span>,opt);
0803     
0804 <a name="_sub16" href="#_subfunctions" class="code">function doInitGraphs(fig,evd,h)</a>
0805     opt = getappdata(h,<span class="string">'options'</span>);
0806     [s, w] = system(<span class="string">'dot -V'</span>);
0807     <span class="keyword">if</span> s
0808         disp(<span class="string">'GraphViz not installed: Generation of dependency graphs desactivated.'</span>);
0809         disp(<span class="string">'See http://www.graphviz.org/ to get ''dot'' tool.'</span>);
0810         set(fig,<span class="string">'FontAngle'</span>,<span class="string">'Oblique'</span>,<span class="string">'Enable'</span>,<span class="string">'inactive'</span>);
0811         set(fig,<span class="string">'Value'</span>,0);
0812         opt.graph = 0;
0813         setappdata(h,<span class="string">'options'</span>,opt);
0814     <span class="keyword">else</span>
0815         set(fig,<span class="string">'Value'</span>,opt.graph);
0816     <span class="keyword">end</span>
0817 
0818 
0819 <span class="comment">%===============================================================================</span>
0820 
0821 <span class="comment">%-------------------------------------------------------------------------------</span>
0822 <span class="comment">%- M-Files Input Callbacks</span>
0823 <span class="comment">%-------------------------------------------------------------------------------</span>
0824 
0825 <a name="_sub17" href="#_subfunctions" class="code">function doSetMfiles(fig,evd,h)</a>
0826     opt = getappdata(h,<span class="string">'options'</span>);
0827     l = get(fig,<span class="string">'String'</span>);
0828     l = fliplr(deblank(fliplr(l)));
0829     <span class="keyword">if</span> isempty(l) | l(1) ~= <span class="string">'{'</span>
0830         opt.mFiles = {l};
0831     <span class="keyword">else</span>
0832         <span class="keyword">try</span>,
0833             d = eval(l);
0834         <span class="keyword">catch</span>,
0835             disp(<span class="string">'[M2HTML] The list of M-files is corrupted. Please check it.'</span>);
0836             <span class="keyword">return</span>;
0837         <span class="keyword">end</span>
0838         [i,v] = listdlg(<span class="string">'ListString'</span>,d,<span class="keyword">...</span>
0839                         <span class="string">'PromptString'</span>,<span class="string">'Select folder(s):'</span>,<span class="keyword">...</span>
0840                         <span class="string">'Name'</span>,<span class="string">':: M2HTML :: M-files'</span>,<span class="keyword">...</span>
0841                         <span class="string">'SelectionMode'</span>,<span class="string">'multiple'</span>);
0842         <span class="keyword">if</span> v == 1
0843             d = {d{i}};
0844             s = sprintf(<span class="string">'''%s'', '</span>,d{:}); s = s(1:end-2);
0845             set(fig,<span class="string">'String'</span>,[<span class="string">'{'</span> s <span class="string">'}'</span>]);
0846         <span class="keyword">end</span>
0847         opt.mFiles = d;
0848     <span class="keyword">end</span>
0849     setappdata(h,<span class="string">'options'</span>,opt);
0850 
0851 <a name="_sub18" href="#_subfunctions" class="code">function doSetRecursive(fig,evd,h)</a>
0852     opt = getappdata(h,<span class="string">'options'</span>);
0853     opt.recursive = get(fig,<span class="string">'Value'</span>);
0854     setappdata(h,<span class="string">'options'</span>,opt);
0855 
0856 <span class="comment">%-------------------------------------------------------------------------------</span>
0857 <span class="comment">%- HTML Output Callbacks</span>
0858 <span class="comment">%-------------------------------------------------------------------------------</span>
0859 
0860 <a name="_sub19" href="#_subfunctions" class="code">function doSetOutputDir(fig,evd,h)</a>
0861     opt = getappdata(h,<span class="string">'options'</span>);
0862     opt.htmlDir = get(fig,<span class="string">'String'</span>);
0863     setappdata(h,<span class="string">'options'</span>,opt);
0864 
0865 <a name="_sub20" href="#_subfunctions" class="code">function doSetIndex(fig,evd,h)</a>
0866     opt = getappdata(h,<span class="string">'options'</span>);
0867     opt.indexFile = get(fig,<span class="string">'String'</span>);
0868     setappdata(h,<span class="string">'options'</span>,opt);
0869     
0870 <a name="_sub21" href="#_subfunctions" class="code">function doSetExtension(fig,evd,h)</a>
0871     opt = getappdata(h,<span class="string">'options'</span>);
0872     e = get(fig,<span class="string">'String'</span>);
0873     <span class="keyword">if</span> ~isempty(e) &amp; e(1) ~= <span class="string">'.'</span>
0874         e = [<span class="string">'.'</span> e];
0875     <span class="keyword">end</span>
0876     opt.extension = e;
0877     setappdata(h,<span class="string">'options'</span>,opt);
0878     
0879 <a name="_sub22" href="#_subfunctions" class="code">function doSetTemplate(fig,evd,h)</a>
0880     opt = getappdata(h,<span class="string">'options'</span>);
0881     s = get(fig,<span class="string">'String'</span>);
0882     v = get(fig,<span class="string">'Value'</span>);
0883     opt.template = deblank(s(v,:));
0884     setappdata(h,<span class="string">'options'</span>,opt);
0885 
0886 <span class="comment">%-------------------------------------------------------------------------------</span>
0887 <span class="comment">%- Options Callbacks</span>
0888 <span class="comment">%-------------------------------------------------------------------------------</span>
0889 
0890 <a name="_sub23" href="#_subfunctions" class="code">function doSetSource(fig,evd,h)</a>
0891     opt = getappdata(h,<span class="string">'options'</span>);
0892     opt.source = get(fig,<span class="string">'Value'</span>);
0893     setappdata(h,<span class="string">'options'</span>,opt);
0894 
0895 <a name="_sub24" href="#_subfunctions" class="code">function doSetHighlight(fig,evd,h)</a>
0896     opt = getappdata(h,<span class="string">'options'</span>);
0897     opt.syntaxHighlighting = get(fig,<span class="string">'Value'</span>);
0898     setappdata(h,<span class="string">'options'</span>,opt);
0899 
0900 <a name="_sub25" href="#_subfunctions" class="code">function doSetGraph(fig,evd,h)</a>
0901     opt = getappdata(h,<span class="string">'options'</span>);
0902     opt.graph = get(fig,<span class="string">'Value'</span>);
0903     setappdata(h,<span class="string">'options'</span>,opt);
0904 
0905 <a name="_sub26" href="#_subfunctions" class="code">function doSetSearch(fig,evd,h)</a>
0906     opt = getappdata(h,<span class="string">'options'</span>);
0907     opt.search = get(fig,<span class="string">'Value'</span>);
0908     setappdata(h,<span class="string">'options'</span>,opt);
0909 
0910 <a name="_sub27" href="#_subfunctions" class="code">function doSetGlobal(fig,evd,h)</a>
0911     opt = getappdata(h,<span class="string">'options'</span>);
0912     opt.globalHypertextLinks = get(fig,<span class="string">'Value'</span>);
0913     setappdata(h,<span class="string">'options'</span>,opt);
0914 
0915 <a name="_sub28" href="#_subfunctions" class="code">function doSetDownload(fig,evd,h)</a>
0916     opt = getappdata(h,<span class="string">'options'</span>);
0917     opt.download = get(fig,<span class="string">'Value'</span>);
0918     setappdata(h,<span class="string">'options'</span>,opt);
0919 
0920 <a name="_sub29" href="#_subfunctions" class="code">function doSetTodo(fig,evd,h)</a>
0921     opt = getappdata(h,<span class="string">'options'</span>);
0922     opt.todo = get(fig,<span class="string">'Value'</span>);
0923     setappdata(h,<span class="string">'options'</span>,opt);
0924 
0925 <a name="_sub30" href="#_subfunctions" class="code">function doSetVerbose(fig,evd,h)</a>
0926     opt = getappdata(h,<span class="string">'options'</span>);
0927     opt.verbose = get(fig,<span class="string">'Value'</span>);
0928     setappdata(h,<span class="string">'options'</span>,opt);
0929 
0930 <a name="_sub31" href="#_subfunctions" class="code">function doSetSaveAsMat(fig,evd,h)</a>
0931     opt = getappdata(h,<span class="string">'options'</span>);
0932     opt.save = get(fig,<span class="string">'Value'</span>);
0933     setappdata(h,<span class="string">'options'</span>,opt);
0934 
0935 <a name="_sub32" href="#_subfunctions" class="code">function doSetLoadMat(fig,evd,h)</a>
0936     opt = getappdata(h,<span class="string">'options'</span>);
0937     [fname, pname, findex] = uigetfile(<span class="string">'m2html.mat'</span>,<span class="keyword">...</span>
0938         <span class="string">'Load a m2html MAT-file'</span>);
0939     <span class="keyword">if</span> findex
0940         opt.load = fullfile(pname,fname);
0941         set(fig,<span class="string">'String'</span>,fullfile(pname,fname));
0942     <span class="keyword">end</span>
0943     setappdata(h,<span class="string">'options'</span>,opt);
0944 
0945 <a name="_sub33" href="#_subfunctions" class="code">function doSetTabs(fig,evd,h)</a>
0946     opt = getappdata(h,<span class="string">'options'</span>);
0947     t = str2num(get(fig,<span class="string">'String'</span>));
0948     <span class="keyword">if</span> t &gt;= 0 &amp; length(t) == 1 
0949         opt.tabs = t; 
0950     <span class="keyword">else</span>
0951         set(fig,<span class="string">'String'</span>,num2str(opt.tabs));
0952     <span class="keyword">end</span>
0953     setappdata(h,<span class="string">'options'</span>,opt);
0954 
0955 <a name="_sub34" href="#_subfunctions" class="code">function doSetNbColumns(fig,evd,h)</a>
0956     opt = getappdata(h,<span class="string">'options'</span>);
0957     disp <span class="string">'Not available'</span>;
0958     setappdata(h,<span class="string">'options'</span>,opt);
0959     
0960 <span class="comment">%===============================================================================</span>
0961 
0962 <a name="_sub35" href="#_subfunctions" class="code">function text2 = shortenText(text, l)</a>
0963 
0964     <span class="keyword">if</span> nargin == 1, l = 64; <span class="keyword">end</span>
0965     m = length(text);
0966     text2 = text;
0967     <span class="keyword">if</span> m &gt; l
0968         s = floor((l - 3) / 2);
0969         text2 = [text(1:s) <span class="string">'...'</span> text(end-(l-s-3)+1:end)];
0970     <span class="keyword">end</span></pre></div>
<hr><address>Generated on Tue 29-Oct-2019 21:04:54 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>